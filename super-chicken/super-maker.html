<!DOCTYPE HTML>
  <head>
    <title id="title">Super Chicken Maker 2</title>
    <canvas onmousemove = "mouseclick(event)" onmouseup = "resetmousestate()"onmousedown = "mouseclic(event)" id="Pixelart" width="600" height="400">If you can read this, your browser does not support the canvas element.</canvas>
    <style>
    html, body {
      width: 100%; 
      height: 100%;
      margin: 0px;
      border: 0;
      overflow: hidden;
      display: block;  
      cursor:none;
    }
    </style>
  </head>
  <body>
    <script>
let scalex;
let squares = [];
var mode = "editor";
const xpixels = 65;
const ypixels = 16;
for(var i = 0; i < ypixels; i++){
squares.push([]);
for(var r = 0; r < xpixels; r++){
squares[i].push(0);}}
let scaley;
var grounded = 0;
            let logcharx;
            let logchary;
            let MouseX;
            let MouseY;
let canjump = 1;
var level = 1;
let subBlue = 0;
var chary = 220;
var spawnposy = 100;
var spawnposx = 0;
const skins = ["Normal", "Haloween", "Backwards", "Spy"];
const modifs = ["Normal", "Invisible", "Fake"];
const levels = ["","",""]
var modif = 0; 
var skinselected = 0;
var rightmove = 1;
var leftmove = 0;
var charx = 100;
var momentum = 0;
var momentumx = 0;
var grid = 1;
var menu = 0;
let palette = 1;
            let mouseDown = false
let scrollbarpos = 0;
var colorselected = 1;
var canvas = document.getElementById("Pixelart");
var ctx = canvas.getContext("2d");
    function resetmousestate(){
        mouseDown = false;
        }
            function die(){
 momentum = 0;
momentumx = 0;
                charx = 100;
                chary = 225;
            }
            function mouseclick(event) {
                MouseX = event.clientX;
                MouseY = event.clientY;
      if(mouseDown && mode == "editor"){
  var x = event.clientX;
  var y = event.clientY;
  
  x = Math.floor(x/(600/24)/scalex)+scrollbarpos;
  y = Math.floor(y/(400/16)/scaley);
  if(x < 24+scrollbarpos && y <16){
    if(modif == 0){
  if(colorselected == 1){
    squares[y][x] = 1;
  }
  if(colorselected == 3){
    squares[y][x] = 3;
  }
  if(colorselected == 0){
    squares[y][x] = 0;}
  if(colorselected == 4){
    squares[y][x] = 4;
  }
  
  if(colorselected == 2){
    if(subBlue == 0){
      squares[y][x] = "a";
    }if(subBlue == 1){
      squares[y][x] = "b";
    }if(subBlue == 2){
      squares[y][x] = "c";
    }if(subBlue == 3){
      squares[y][x] = "d";
    }if(subBlue == 4){
      squares[y][x] = "e";
    }if(subBlue == 5){
      squares[y][x] = "f";
    }if(subBlue == 6){
      squares[y][x] = "g";
    }if(subBlue == 7){
      squares[y][x] = "h";
    }
  }
}
if(modif == 1){
  if(colorselected == 1){
    squares[y][x] = "Q";
  }
  if(colorselected == 3){
    squares[y][x] = "V";
  }
  if(colorselected == 0){
    squares[y][x] = 0;}
  if(colorselected == 4){
    squares[y][x] = "P";
  }
  
  if(colorselected == 2){
    if(subBlue == 0){
      squares[y][x] = ".";
    }if(subBlue == 1){
      squares[y][x] = "z";
    }if(subBlue == 2){
      squares[y][x] = "x";
    }if(subBlue == 3){
      squares[y][x] = "y";
    }if(subBlue == 4){
      squares[y][x] = "U";
    }if(subBlue == 5){
      squares[y][x] = "W";
    }if(subBlue == 6){
      squares[y][x] = "*";
    }if(subBlue == 7){
      squares[y][x] = "m";
    }
  }
}

if(modif == 2){
  if(colorselected == 1){
    squares[y][x] = "!";
  }
  if(colorselected == 3){
    squares[y][x] = "#";
  }
  if(colorselected == 0){
    squares[y][x] = 0;}
  if(colorselected == 4){
    squares[y][x] = "$";
  }
  
  if(colorselected == 2){
    if(subBlue == 0){
      squares[y][x] = "A";
    }if(subBlue == 1){
      squares[y][x] = "B";
    }if(subBlue == 2){
      squares[y][x] = "C";
    }if(subBlue == 3){
      squares[y][x] = "D";
    }if(subBlue == 4){
      squares[y][x] = "E";
    }if(subBlue == 5){
      squares[y][x] = "F";
    }if(subBlue == 6){
      squares[y][x] = "G";
    }if(subBlue == 7){
      squares[y][x] = "H";
    }
  }
}

}
}}
                function mouseclic(event) {
                    mouseDown = true;
      if(mode == "editor"){
  var x = event.clientX;
  var y = event.clientY;
  if((x > 620*scalex && y > 90*scaley)&&(x < 700*scalex&& y <140*scaley)){
    input();
  }
  if((x > 620*scalex && y > 20*scaley)&&(x < 700*scalex&& y <70*scaley)){
    share();
  }
  // Char select
if((x > 620*scalex && y > 150*scaley)&&(x < 630*scalex&& y <165*scaley)){
    skinselected--;
    if(skinselected < 0){
      skinselected = 3;
    }
  }
  if((x > 690*scalex && y > 150*scaley)&&(x < 700*scalex&& y <165*scaley)){
    skinselected++;
    if(skinselected > 3){
      skinselected = 0;
    }
  }
          if((x > 620*scalex && y > 180*scaley)&&(x < 700*scalex&& y <195*scaley)){
   loadLevel("111111111111111ddf1dddddfhhhdd!!!!!!!P000000000000000000000000004dddddddddddddf1b1f1b1111f1b11b1111111P000000000000000000000000004b1b1111111111f1b1f1b1##1f1b11b1dddf11P000000000000000000000000004b1b1ddddf1111f1b1ddb1##1f1b11b1b11f11P000000000000000000000000004b1b1b111fhhhhh1b11111111f1b11b1bh1f11P000000000000000000000000004b1b1b111f111111bhhh1fhhhh1000011b1df1P000000000000000000000000004b1000011f111111111b1f111b1000011b11f1P000000000000000000000000004bh0000dddddddddfh0000111b10000ddb11f1P000000000000000000000000004110000111111111f10000111b1000011111f1P000000000000000000000000004fh0000hhhhhh131f10000dddb11b1f11111f1P000000000000000000000000004f1111111111b111fh0000111111b1fhhhh1f1P000000000000000000000000004df133333331bhhhh1b1f1131dddb1f111b1f1P0000000000000000000000000041f111111111111111b1f1331b1b11ddf1b1f1P0000000000000000000000000041ddddddddddddddddb1f1111b1b1111f1b1f1P0000000000000000000000000041111111111111111111dddddb1bhhhhh1bhh1P0000000000000000000000000041333333333333333331111111111111111111P0000000000000000000000000040");
  }
if((x > 620*scalex && y > 210*scaley)&&(x < 700*scalex&& y <245*scaley)){ loadLevel("0000001V00V00V00V00V00100m00m00m00m00m00V00V00V00V0030000000000040000001V00V00V00V00V00$00m00m00m00m00m00300V00V00V0040000000000040000001V00V00100V00V00100m00100m00m00m00$00V00300V0040000000000040000001V00V00$00V00V00V00m00$00m00m00m00$00V00$00V0040000000000040000000100V00100100V00V00m00100m00100m00$00V00$0030040000000000040000000$00V00V00$00100V00100m00100$00m00$00V00$00$0040000000000040000000100V00V00100$00V00$00m00$00100100300300$00$0030000000000040000001V00V00V00V00100V00100m00100m00$00V00$00300$00V0000000000040000001V00100V00V00V00V00m00m00m00m00100V00$00V00$00V0000000000040000001V00$00V00V00V00V00m00m00m00m00m00V00$00V00$00V0000000000040000001V00100V00V00V00V00m00m00m00m00m00V00$00V00300V0000000000040000001V00V00V00V00V00V00m00m00m00m00m00V00300V00V00V0000000000040000001V00V00V00V00V00V00m00m00m00m00m00V00V00V00V00V0000000000040000001V00V00V00V00V00V00m00m00m00m00m00V00V00V00V00V0000000000041111111311311311311311311h11h11h11h11h113113113113113000000000004111111111111111111111111111111111111111111111111111110000000000040");
                                                                                   }
if((x > 620*scalex && y > 240*scaley)&&(x < 700*scalex&& y <255*scaley)){ loadLevel("cccccc0011110000111100001111000011110000111100001111000011110000400000100000h0000000h0000000h0000000h0000000h0000000H0000000h0000400000100111100001111000011110000111100001111000011110000111100004F1f1f100000h0000000H0000000h0000000h0000000h0000000h0000000h000040000010011110000111100001111000011110000111100001111000011110000400000100000h0000000h0000000h0000000H0000000h0000000h0000000H00004F1f1f10011110000111100001111000011110000111100001111000011110000400000100000H0000000h0000000h0000000h0000000h0000000h0000000h000040000010011110000111100001111000011110000111100001111000011110000400000100000h0000000h0000000H0000000h0000000h0000000h0000000h000041111110011110000111100001111000011110000111100001111000011110000433333100000h0000000h0000000h0000000h0000000h0000000h0000000h000043333310011110000111100001111000011110000111100001111000011110000433333100000h0000000h0000000h0000000h0000000H0000000h0000000h0000433333100111100001111000011110000111100001111000011110000111100004111111111111111111111111111111111111111111111111111111111111111140");
                                                                                   }

if((x > 620*scalex && y > 270*scaley)&&(x < 700*scalex&& y <295*scaley)){ loadLevel("000000100001000100010001000111000100000010110001000101111100000040111101001000100010101010100000101011110100001010101000001011101401000010111111111101010101011101010101101111010101010111010100014010101100000010001010101010001010100001010000001010100010101111140101011111110101010101010101110101010110100011010101011101000001401000010000101010101010101010101011100101011010101000000011110114011010101100010101010101010000010100001000010101011111111101100140110101001111101010101010111111101011111100001010000000001010101401000011010000010100010000010001010010001111111101111110110101014010000100101111101111111010101010110101000100010001001100101010140111111101010001010100010101010100001011101010101110001001000001400000001010101010101011101000101011110101010101010001011011111014011101010101010101010000011111010000001010101010101010000100000140001010101010101010111110100000101111110101010101011111111011111401010100000001000001000001010100000000001000100010000000000000014111111111111111111111111111111111111111111111111111111111111111140");
                                                                                   }
         if((x > 620*scalex && y > 300*scaley)&&(x < 700*scalex&& y <325*scaley)){  loadLevel("ddf1111111111111111111144441fhh1ddddddddee11000000000000000000004b1fhhhhhhhhhhhhhhhhhhh144441f1b1ccccccc1eee1100000000000000000004b1f111111111111111111b144441f1b1ccccccc11eee110000000000000000004b1f144444111111111111b111111f1b1aaaaaaa111eee11000000000000000004b1f1444441fhhhhhhhh11bhhhhhhh1b1aaaaaaa1011eee1100000000000000004b1f1111111f1111111b11111111111b1ccccccc10011eee110000000000000004b1dddd0001f1444441b11111111111b1ccccccc100011eee11000000000000004b111110001f1114441b1ddddddddddb1aaaaaaa1000011eee1100000000000004b1410100dd00014441b1b11100000011aaaaaaa10000011eee110000000000004b11101111100011111b1b111hhhhhh1cccccccc100000011eee11000000000004bhhhh1ddf100dd0001b1bhh10000001cccccccc1000000011eee1100000000004b10011b1f1f1110001b111b1dddddd1aaaaaaaa10000000011eee110000000004b1ddddb1f1f14100ddb141b10000001aaaaaaaa100000000011eee11000000004b1111111f1f11111111111b1dddddd1cccccccc1000000000011eee1111111114bhhhhhhhh1ddddddddddddb1dddddddcccccccc10000000000011ddddddddddd4111111111111111111111111111111111111111111111111111111111111111140");
                                                                                 }
if((x > 620*scalex && y > 330*scaley)&&(x < 700*scalex&& y <355*scaley)){ 
loadLevel("00000000h0000h000h0000h000300030000300000300003000V$$000VV000000400000000h0000h000h0000h0000000#000000000000000P000V$$000VV000000400000000h0000h000h0000h00000003000000000000000P000V$$000VV00000040000000000000h000h0000000000000000000000030000P000V$$000VV00000040000000000000h000h0000m000000000000300000300003000V$$000VV000000400000000000000000000000000000000000300000300003000V$$000VV00000040000000000000000000000h000300000000#00000300003000V$$000VV000000400000000h00000000h0000h000#00000000300000300003000V$$000VV000000400000000h0000h000h0000h000300030000#00000300003000V$$000VV000000400000000h0000h000h0000h000#000#0000300000300003000V$$000VV0000004!1111100h0000h000h0000h000300030000#00000300003000V$$000VV0000004!!!!1100h0000h000h0000h000#000#0000300000300003000V$$000VV0000004111!1100h0000h000h0000h000300030000#00000300003000V$$000VV0000004111!1111111111111111111!11111111111!1111111!!!1111111000VV0000004111!!!!!!!!!!!!!!!!!!!!!1!!!!!!!!11!!!!!!!!!!!!!!!!!!000VV00000041111111111111111111111111!!!!!!!!111111111111111111111111111111142");}
         if((x > 620*scalex && y > 360*scaley)&&(x < 700*scalex&& y <385*scaley)){  loadLevel("0000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000400011100000000000000000000000000000000000000000000000000000000004000101000000000000000000000000000000000000000000000000000000000040001010000000000000000000000000000000000000000000000000000000000400010131413141314131413141314131413141314131413141314131413141314111101101010101010101010101010101010101010101010101010101010101040000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000004cccccacacacacacacacacacacacacacacacacacacacacacacacacacacacacaca4111111111111111111111111111111111111111111111111111111111111111140");}
  //
  if(x > 600*scalex && y > 400*scaley){
    mode = "player";
    rightmove = 0;
  }
  x = Math.floor(x/(600/24)/scalex)+scrollbarpos;
  y = Math.floor(y/(400/16)/scaley);
  if(x < 24+scrollbarpos && y <16){
    if(modif == 0){
  if(colorselected == 1){
    squares[y][x] = 1;
  }
  if(colorselected == 3){
    squares[y][x] = 3;
  }
  if(colorselected == 0){
    squares[y][x] = 0;}
  if(colorselected == 4){
    squares[y][x] = 4;
  }
  
  if(colorselected == 2){
    if(subBlue == 0){
      squares[y][x] = "a";
    }if(subBlue == 1){
      squares[y][x] = "b";
    }if(subBlue == 2){
      squares[y][x] = "c";
    }if(subBlue == 3){
      squares[y][x] = "d";
    }if(subBlue == 4){
      squares[y][x] = "e";
    }if(subBlue == 5){
      squares[y][x] = "f";
    }if(subBlue == 6){
      squares[y][x] = "g";
    }if(subBlue == 7){
      squares[y][x] = "h";
    }
  }
}
if(modif == 1){
  if(colorselected == 1){
    squares[y][x] = "Q";
  }
  if(colorselected == 3){
    squares[y][x] = "V";
  }
  if(colorselected == 0){
    squares[y][x] = 0;}
  if(colorselected == 4){
    squares[y][x] = "P";
  }
  
  if(colorselected == 2){
    if(subBlue == 0){
      squares[y][x] = ".";
    }if(subBlue == 1){
      squares[y][x] = "z";
    }if(subBlue == 2){
      squares[y][x] = "x";
    }if(subBlue == 3){
      squares[y][x] = "y";
    }if(subBlue == 4){
      squares[y][x] = "U";
    }if(subBlue == 5){
      squares[y][x] = "W";
    }if(subBlue == 6){
      squares[y][x] = "*";
    }if(subBlue == 7){
      squares[y][x] = "m";
    }
  }
}

if(modif == 2){
  if(colorselected == 1){
    squares[y][x] = "!";
  }
  if(colorselected == 3){
    squares[y][x] = "#";
  }
  if(colorselected == 0){
    squares[y][x] = 0;}
  if(colorselected == 4){
    squares[y][x] = "$";
  }
  
  if(colorselected == 2){
    if(subBlue == 0){
      squares[y][x] = "A";
    }if(subBlue == 1){
      squares[y][x] = "B";
    }if(subBlue == 2){
      squares[y][x] = "C";
    }if(subBlue == 3){
      squares[y][x] = "D";
    }if(subBlue == 4){
      squares[y][x] = "R";
    }if(subBlue == 5){
      squares[y][x] = "F";
    }if(subBlue == 6){
      squares[y][x] = "G";
    }if(subBlue == 7){
      squares[y][x] = "H";
    }
  }
}

}

}

      if(mode == "player"){
        var x = event.clientX;
  var y = event.clientY;
  if(x < 50*scalex && y < 50*scalex){
    mode = "editor";
    charx = 100;
    chary = 225;
    level = 1;
    rightmove = 1;
    leftmove = 0;
    momentum = 0;
    momentumx = 0;
    scrollbarpos = 0;
    mouseDown = false
  }
      }
      }
document.addEventListener('keydown', function(evt){
    if(mode == "editor"){
    switch (evt.code) {
      case 'KeyG':
        grid++;
          if(grid == 2){
            grid = 0;
          }
        break;
      case 'KeyZ':
        palette++;
          if(palette == 2){
            palette = 0;
          }
        break;
        case 'KeyV':
        modif++;
          if(modif == 3){
            modif = 0;
          }
        break;
       case 'KeyX':
       colorselected++;
       if(colorselected > 4){
        colorselected = 0;
       }
       break;
       case 'KeyR':
       subBlue++;
       if(subBlue > 7){
        subBlue = 0;
       }
       break;
       case 'ArrowLeft':
       if(scrollbarpos > 0){
        scrollbarpos--;
       }
       break;
       case 'ArrowRight':
       if(scrollbarpos < 40){
        scrollbarpos++;
       }
       break;
    }}
    if(mode == "player"){
    switch (evt.code) {
      case 'ArrowUp':
        if(momentum == 0){
          if(canjump == 1){
            momentum = 20;
            canjump = 0;}}
        break;
      case 'ArrowLeft':
        leftmove = 1;
        break;
      case 'ArrowRight':
        rightmove = 1;
        break;
    }}
    console.log(evt);
  })
document.addEventListener('keyup', function(evt){
    if(mode == "player"){
    switch (evt.code) {
      case 'ArrowUp':
          canjump = 1;
        break;
      case 'ArrowRight':
          rightmove = 0;
        break;
      case 'ArrowLeft':
          leftmove = 0;
        break;
    }
    console.log(evt);}})
document.addEventListener('mouseout', function(evt) {
  if (evt.toElement == null && evt.relatedTarget == null) {
    mouseDown = false;
  }
});
function share(){
  mouseDown = false;
      var sharecode = "";
      for(var i = 0; i < ypixels; i++){
        sharecode = sharecode + squares[i].join("");
      }
    var exportmessage = prompt("Copy the code below: \n\nHit enter to be redirected to the program.",sharecode + skinselected); 
}
function input(){
  mouseDown = false;
  var importprompt = prompt("Paste in the image code below:\nInvalid Image Codes may cause bugs.\nYou will be redirected to the program.");
      for(var i = 0; i < ypixels; i++){
    for(var r = 0; r < xpixels; r++){
      squares[i][r] = importprompt.charAt(i*xpixels+r);
    }}
skinselected = importprompt.charAt(1040);
}
        function loadLevel(level){
  mouseDown = false;
            for(var i = 0; i < ypixels; i++){
    for(var r = 0; r < xpixels; r++){
      squares[i][r] = level.charAt(i*xpixels+r);
    }}
skinselected = level.charAt(1040);
}
            function DrawCharacter(x,y){ 
       var canvas = document.getElementById("Pixelart");
var ctx = canvas.getContext("2d");
if(skinselected == 0){
ctx.fillStyle = "#ffffff";
ctx.fillRect(275*scalex,y*scaley+5*scaley,25*scalex,20*scaley);
ctx.fillStyle = "#dbdbdb";
ctx.fillRect(275*scalex,y*scaley+5*scaley,25*scalex,7*scaley);
ctx.fillStyle = "#ffffff";
if(rightmove == 1){
    if(leftmove == 1){
ctx.fillRect(275*scalex+7.5*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+10.5*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(275*scalex+10*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
if(leftmove == 0){
ctx.fillRect(275*scalex+15*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+18*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(275*scalex+18*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}}
if(rightmove == 0){
  if(leftmove == 1){
ctx.fillRect(275*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+3*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(275*scalex+3*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
if(leftmove == 0){
ctx.fillRect(275*scalex+7.5*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+10.5*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(275*scalex+10*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
}}


if(skinselected == 3){
ctx.fillStyle = "#000000";
ctx.fillRect(275*scalex,y*scaley+7*scaley,25*scalex,18*scaley);

if(rightmove == 1){
if(leftmove == 1){

ctx.fillStyle = "#e8e8e8";
ctx.fillRect(275*scalex+8.5*scalex,7*scaley+y*scaley,8*scalex,14*scaley);
ctx.fillStyle = "#ffffff";
ctx.fillRect(275*scalex+7.5*scalex,y*scaley,10*scalex,10*scaley);
ctx.fillStyle = "#000000";
ctx.fillRect(275*scalex+11*scalex,7*scalex+y*scaley,3*scalex,10*scaley);
ctx.fillRect(275*scalex+7.5*scalex,y*scaley+2*scaley,10*scalex,1*scaley);
ctx.fillRect(275*scalex+9*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+13*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+10*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
    if(leftmove == 0){
ctx.fillStyle = "#e8e8e8";
ctx.fillRect(275*scalex+16*scalex,7*scaley+y*scaley,8*scalex,14*scaley);
  ctx.fillStyle = "#ffffff";
ctx.fillRect(275*scalex+15*scalex,y*scaley,10*scalex,10*scaley);

ctx.fillStyle = "#000000";

ctx.fillRect(275*scalex+18.5*scalex,7*scalex+y*scaley,3*scalex,10*scaley);
ctx.fillRect(275*scalex+15*scalex,y*scaley+2*scaley,10*scalex,1*scaley);
ctx.fillRect(275*scalex+17*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+21*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+18*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}}
if(rightmove == 0){
  if(leftmove == 1){

ctx.fillStyle = "#e8e8e8";
ctx.fillRect(275*scalex+1*scalex,7*scaley+y*scaley,8*scalex,14*scaley);
    ctx.fillStyle = "#ffffff";
ctx.fillRect(275*scalex,y*scaley,10*scalex,10*scaley);
ctx.fillStyle = "#000000";
ctx.fillRect(275*scalex+3.5*scalex,7*scalex+y*scaley,3*scalex,10*scaley);
ctx.fillRect(275*scalex,y*scaley+2*scaley,10*scalex,1*scaley);
ctx.fillRect(275*scalex+1*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+5*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+3*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
if(leftmove == 0){

ctx.fillStyle = "#e8e8e8";
ctx.fillRect(275*scalex+8.5*scalex,7*scaley+y*scaley,8*scalex,14*scaley);
ctx.fillStyle = "#ffffff";
ctx.fillRect(275*scalex+7.5*scalex,y*scaley,10*scalex,10*scaley);
ctx.fillStyle = "#000000";
ctx.fillRect(275*scalex+11*scalex,7*scalex+y*scaley,3*scalex,10*scaley);
ctx.fillRect(275*scalex+7.5*scalex,y*scaley+2*scaley,10*scalex,1*scaley);
ctx.fillRect(275*scalex+9*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+13*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+10*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
}}



if(skinselected == 1){
  ctx.fillStyle = "#636362";
ctx.fillRect(275*scalex,y*scaley+10*scaley,25*scalex,15*scaley);
ctx.fillStyle = "#404040";
ctx.fillRect(275*scalex,y*scaley+7*scaley,25*scalex,5*scaley);
ctx.fillStyle = "#d16900";
if(rightmove == 1){
    if(leftmove == 1){

ctx.fillRect(275*scalex+7.5*scalex,y*scaley,10*scalex,11*scaley);
ctx.fillStyle = "#000000";
ctx.fillRect(275*scalex+9*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+13*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+9*scalex,y*scaley+5*scaley,7*scalex,3*scaley);}
    if(leftmove == 0){
ctx.fillRect(275*scalex+15*scalex,y*scaley,10*scalex,11*scaley);
ctx.fillStyle = "#000000";
ctx.fillRect(275*scalex+17*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+21*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+17*scalex,y*scaley+5*scaley,7*scalex,3*scaley);}}
if(rightmove == 0){
  if(leftmove == 1){
ctx.fillRect(275*scalex,y*scaley,10*scalex,11*scaley);
ctx.fillStyle = "#000000";
ctx.fillRect(275*scalex+1*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+5*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+1*scalex,y*scaley+5*scaley,7*scalex,3*scaley);
}

if(leftmove == 0){

ctx.fillRect(275*scalex+7.5*scalex,y*scaley,10*scalex,11*scaley);
ctx.fillStyle = "#000000";
ctx.fillRect(275*scalex+9*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+13*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(275*scalex+9*scalex,y*scaley+5*scaley,7*scalex,3*scaley);}}
}

if(skinselected == 2){
ctx.fillStyle = "#ffffff";
ctx.fillRect(275*scalex,y*scaley+5*scaley,25*scalex,20*scaley);
ctx.fillStyle = "#dbdbdb";
ctx.fillRect(275*scalex,y*scaley+5*scaley,25*scalex,7*scaley);
ctx.fillStyle = "#ffffff";
if(rightmove == 1){
    if(leftmove == 1){
ctx.fillRect(275*scalex+7.5*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+10.5*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(275*scalex+10*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
    if(leftmove == 0){
ctx.fillRect(275*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+3*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(275*scalex+3*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}}
if(rightmove == 0){
  if(leftmove == 1){
ctx.fillRect(275*scalex+15*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+18*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(275*scalex+18*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
if(leftmove == 0){
ctx.fillRect(275*scalex+7.5*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(275*scalex+10.5*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(275*scalex+10*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
}}


}

function DrawChaaacter(x,y){
       var canvas = document.getElementById("Pixelart");
var ctx = canvas.getContext("2d");
if(skinselected == 3){
ctx.fillStyle = "#000000";
ctx.fillRect(x*scalex,y*scaley+7*scaley,25*scalex,18*scaley);
ctx.fillStyle = "#e8e8e8";
ctx.fillRect(x*scalex+16*scalex,7*scaley+y*scaley,8*scalex,14*scaley);
  ctx.fillStyle = "#ffffff";
ctx.fillRect(x*scalex+15*scalex,y*scaley,10*scalex,10*scaley);
ctx.fillStyle = "#000000";
ctx.fillRect(x*scalex+18.5*scalex,7*scalex+y*scaley,3*scalex,10*scaley);
ctx.fillRect(x*scalex+15*scalex,y*scaley+2*scaley,10*scalex,1*scaley);
ctx.fillRect(x*scalex+17*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillRect(x*scalex+21*scalex,y*scaley+2*scaley,3*scalex,3*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(x*scalex+18*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}



if(skinselected == 0){
ctx.fillStyle = "#ffffff";
ctx.fillRect(x*scalex,y*scaley+5*scaley,25*scalex,20*scaley);
ctx.fillStyle = "#dbdbdb";
ctx.fillRect(x*scalex,y*scaley+5*scaley,25*scalex,7*scaley);
ctx.fillStyle = "#ffffff";


ctx.fillRect(x*scalex+15*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(x*scalex+18*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(x*scalex+18*scalex,y*scaley-3*scaley,3*scalex,3*scaley);
}
if(skinselected == 1){
  ctx.fillStyle = "#636362";
ctx.fillRect(x*scalex,y*scaley+10*scaley,25*scalex,15*scaley);
ctx.fillStyle = "#404040";
ctx.fillRect(x*scalex,y*scaley+7*scaley,25*scalex,5*scaley);
ctx.fillStyle = "#d16900";
ctx.fillRect(x*scalex+15*scalex,y*scaley,10*scalex,11*scaley);
ctx.fillStyle = "#000000";
ctx.fillRect(x*scalex+17*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(x*scalex+21*scalex,y*scaley+1*scaley,3*scalex,3*scaley);
ctx.fillRect(x*scalex+17*scalex,y*scaley+5*scaley,7*scalex,3*scaley);
}
if(skinselected == 2){
  ctx.fillStyle = "#ffffff";
ctx.fillRect(x*scalex,y*scaley+5*scaley,25*scalex,20*scaley);
ctx.fillStyle = "#dbdbdb";
ctx.fillRect(x*scalex,y*scaley+5*scaley,25*scalex,7*scaley);
ctx.fillStyle = "#ffffff";
ctx.fillRect(x*scalex,y*scaley,10*scalex,15*scaley);
ctx.fillStyle = "#d14141";
ctx.fillRect(x*scalex+3*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
ctx.fillRect(x*scalex+3*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}

}
      function Drawmomentumrect(rectxmom,rectymom,momrectwidth,momrectheight,plusmomx,plusmomy){
        var canvas = document.getElementById("Pixelart");
        var ctx = canvas.getContext("2d");
        ctx.fillStyle =   "#99badd";
        ctx.fillRect(-1*charx*scalex+275*scalex+rectxmom*scalex,rectymom*scaley,momrectwidth*scalex,momrectheight*scaley);}
            function momentumrect(rectxmom,rectymom,momrectwidth,momrectheight,plusmomx,plusmomy){
        if(rectxmom < charx+25){
          if(rectymom < chary+25){
            if(chary < rectymom+momrectheight){
              if(charx < momrectwidth+rectxmom){
                                    if(plusmomy !== 0){
                                momentum = plusmomy;}
                                
                  if(plusmomx !== 0){momentumx  = plusmomx;
                  }
                            }}}}}
            function Drawwinrect(rectxwin, rectywin, winrectwidth, winrectheight){
            var canvas = document.getElementById("Pixelart");
        var ctx = canvas.getContext("2d");
        ctx.fillStyle = "#75b855";
        ctx.fillRect(-1*charx*scalex+275*scalex+rectxwin*scalex,rectywin*scaley,winrectwidth*scalex,winrectheight*scaley);}
       function winrect(rectxwin, rectywin, winrectwidth, winrectheight){
                
        if(rectxwin < charx+25){
          if(rectywin < chary+25){
            if(chary < rectywin+winrectheight){
              if(charx < winrectwidth+rectxwin){
                level+= 1;
                                spawnposy = 220;
                                spawnposx = 0;
                                charx = 100;
                                chary = 225;
                                }}}}}
            function Drawpainrect(rectxpain, rectypain, painrectwidth, painrectheight){
            var canvas = document.getElementById("Pixelart");
        var ctx = canvas.getContext("2d");
        ctx.fillStyle =   "#db6161";
        ctx.fillRect(-1*charx*scalex+275*scalex+rectxpain*scalex,rectypain*scaley,painrectwidth*scalex,painrectheight*scaley);}
        function painrect(rectxpain, rectypain, painrectwidth, painrectheight){
        if(rectxpain < charx+25){
          if(rectypain < chary+25){
            if(chary < rectypain+painrectheight){
              if(charx < painrectwidth+rectxpain){
                                die();
                            }}}}}
function DrawCollisRect(rectx,recty,collisrectwidth,collisrectheight){
        var canvas = document.getElementById("Pixelart");
        var ctx = canvas.getContext("2d");
        ctx.fillStyle = "#d8d7e0";
        
        ctx.fillRect(-1*charx*scalex+275*scalex+rectx*scalex,recty*scaley,collisrectwidth*scalex,collisrectheight*scaley);
        
        }function CollisRect(rectx,recty,collisrectwidth,collisrectheight){
        var collisionside;
            if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                chary-=3;
                grounded = 1;
                collisionside = 1;
              }}}}
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                chary+=3;
                charx-=1.5;
                grounded = 0;
                collisionside = 2;
              }
            }
          }
        }
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                collisionside = 3;
                charx+=3;
              }
            }
          }
        }
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                charx-=1.5;
                chary+=1.5;
                collisionside = 0;
              }
            }
          }
        }

        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                chary-=7.5;
                grounded = 1;
                collisionside = 1;
              }}}}
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                chary+=6;
                charx-=3;
                grounded = 0;
                collisionside = 2;
              }
            }
          }
        }
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                collisionside = 3;
                charx+=6;
              }
            }
          }
        }
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                charx-=3;
                collisionside = 0;
              }
            }
          }
        }

        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                chary-=collisrectheight/2;
                grounded = 1;
                collisionside = 1;
                  //Up
              }}}}
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                chary+=25/2;
                charx-=25/2;
                grounded = 0;
                collisionside = 2;
                  //left
              }
            }
          }
        }
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                collisionside = 3;
                charx+=25;
                  //right
                  
              }
            }
          }
        }
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                charx-=25/2;
                collisionside = 0;
                  //down
                
              }
            }
          }
        }if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                  collisionside = 10;
                
              }
            }
          }
        }
       if(collisionside == 10){
        if(momentum >0){
          
momentum = 0;
          chary = recty+collisrectheight;
        }
        if(momentum < 0){
          momentum = 0;
chary = recty-25;
        }

if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                
        if(momentumx > 0){
momentumx = 0;
          charx = rectx+collisrectwidth;
        }
        if(momentumx < 0){
          momentumx = 0;
charx = rectx-25;
        }
                
              }
            }
          }
        }
        
                      
           
           
       }
         if(collisionside == 2){
          momentumx = 0;
          charx = rectx-25;
        }
        if(collisionside == 3){
          momentumx = 0;
          charx = rectx+collisrectwidth;
        }
        if(collisionside == 0){
          momentum = 0;
          chary = recty+collisrectheight;
        }
        if(collisionside == 1){
          chary = recty-25;
        }       
}
    function Render(){
      if(mode == "editor"){
      for(var i = 0; i < 16; i++){
        squares[i][64] = 4;
      }
      squares[9][4] = 0;
      squares[8][4] = 0;
      var canvas = document.getElementById("Pixelart");
var ctx = canvas.getContext("2d");
ctx.fillStyle = "#000000";
ctx.fillRect(0,0,10000,10000);
ctx.canvas.width  = window.innerWidth;
  ctx.canvas.height = window.innerHeight;
scalex = (window.innerWidth/600)/1.2;
scaley = (window.innerHeight/400)/1.2;
      for(var i = 0; i < ypixels; i++){
    for(var r = scrollbarpos; r < xpixels+scrollbarpos; r++){

      if(squares[i][r] == 0){
        ctx.fillStyle = "#4d5361";
      }
      if(squares[i][r] == 1 || squares[i][r] == "!" || squares[i][r] == "Q"){
        ctx.fillStyle = "#d8d7e0";
      }
      if(squares[i][r] == "a" || squares[i][r] == "A" || squares[i][r] == "."){
        ctx.fillStyle = "#000000";
        
       ctx.fillRect((r-scrollbarpos)*scalex*(600/24),i*scaley*(400/16),10*scalex,10*scaley);
      
        ctx.fillStyle = "#99badd";
      }
      if(squares[i][r] == "b"|| squares[i][r] == "B" || squares[i][r] == "z"){
        ctx.fillStyle = "#99badd";
      }
      if(squares[i][r] == "d"|| squares[i][r] == "D" || squares[i][r] == "y"){
        ctx.fillStyle = "#99badd";
      }
      if(squares[i][r] == "c" || squares[i][r] == "C" || squares[i][r] == "x"){
        ctx.fillStyle = "#99badd";
      }
      if(squares[i][r] == "e" || squares[i][r] == "E" || squares[i][r] == "U"){
        ctx.fillStyle = "#99badd";
      }
      if(squares[i][r] == "f" || squares[i][r] == "F"|| squares[i][r] == "W"){
        ctx.fillStyle = "#99badd";
      }
      if(squares[i][r] == "g" || squares[i][r] == "G" || squares[i][r] == "*"){
        ctx.fillStyle = "#99badd";
      }
      if(squares[i][r] == "h" || squares[i][r] == "H" || squares[i][r] == "m"){
        ctx.fillStyle = "#99badd";
      }

      if(squares[i][r] == 3 || squares[i][r] == "#" || squares[i][r] == "V"){
        ctx.fillStyle = "#db6161";
      }
      if(squares[i][r] == 4 || squares[i][r] == "$" || squares[i][r] == "P"){
        ctx.fillStyle = "#75b855";
      }
        ctx.fillRect((r-scrollbarpos)*scalex*(600/24),i*scaley*(400/16),(610/24)*scalex,(410/16)*scaley);

if(squares[i][r] == "a" || squares[i][r] == "A" || squares[i][r] == "."){
        ctx.fillStyle = "#000000";
        
       ctx.fillRect((r-scrollbarpos)*scalex*(600/24),i*scaley*(400/16),10*scalex,10*scaley);}
       if(squares[i][r] == "b" || squares[i][r] == "B" || squares[i][r] == "z"){
        ctx.fillStyle = "#000000";
        
       ctx.fillRect((r-scrollbarpos)*scalex*(600/24)+scalex*7.5,i*scaley*(400/16),10*scalex,10*scaley);}
       if(squares[i][r] == "c"|| squares[i][r] == "C" || squares[i][r] == "x"){
        ctx.fillStyle = "#000000";
        
       ctx.fillRect((r-scrollbarpos)*scalex*(600/24)+scalex*15,i*scaley*(400/16),10*scalex,10*scaley);}
       if(squares[i][r] == "d"|| squares[i][r] == "D" || squares[i][r] == "y"){
        ctx.fillStyle = "#000000";
        
       ctx.fillRect((r-scrollbarpos)*scalex*(600/24)+scalex*15,i*scaley*(400/16)+7.5*scaley,10*scalex,10*scaley);}
       if(squares[i][r] == "h"|| squares[i][r] == "H" || squares[i][r] == "m"){
        ctx.fillStyle = "#000000";
        
       ctx.fillRect((r-scrollbarpos)*scalex*(600/24),i*scaley*(400/16)+7.5*scaley,10*scalex,10*scaley);}
if(squares[i][r] == "g" || squares[i][r] == "G" || squares[i][r] == "*"){
        ctx.fillStyle = "#000000";
        
       ctx.fillRect((r-scrollbarpos)*scalex*(600/24),i*scaley*(400/16)+15*scaley,10*scalex,10*scaley);}
       if(squares[i][r] == "f"  || squares[i][r] == "F"|| squares[i][r] == "W"){
        ctx.fillStyle = "#000000";
        
       ctx.fillRect((r-scrollbarpos)*scalex*(600/24)+scalex*7.5,i*scaley*(400/16)+15*scaley,10*scalex,10*scaley);}
       if(squares[i][r] == "e" || squares[i][r] == "E"|| squares[i][r] == "U"){
        ctx.fillStyle = "#000000";
       ctx.fillRect((r-scrollbarpos)*scalex*(600/24)+scalex*15,i*scaley*(400/16)+15*scaley,10*scalex,10*scaley);}
if(squares[i][r] == "A" || squares[i][r] == "B" || squares[i][r] == "C" || squares[i][r] == "D" || squares[i][r] == "E" || squares[i][r] == "F" || squares[i][r] == "G" || squares[i][r] == "H" || squares[i][r] == "!" || squares[i][r] == "#" || squares[i][r] == "$"){
  ctx.fillStyle = "#000000"
ctx.font = 5*scalex +"px Arial";
  ctx.fillText( "(Fake)", (r-scrollbarpos)*scalex*(600/24)+4*scalex,i*scaley*(400/16)+12*scaley);
}

if(squares[i][r] == "." || squares[i][r] == "z" || squares[i][r] == "x" || squares[i][r] == "y" || squares[i][r] == "U" || squares[i][r] == "W" || squares[i][r] == "*" || squares[i][r] == "m" || squares[i][r] == "Q" || squares[i][r] == "V" || squares[i][r] == "P"){
  ctx.fillStyle = "#000000"
ctx.font = 5*scalex +"px Arial";
  ctx.fillText( "(Invisible)", (r-scrollbarpos)*scalex*(600/24)+4*scalex,i*scaley*(400/16)+12*scaley);
}


      }}
    if(grid == 1){
      ctx.fillStyle = "#000000";
      for (i = 0; i < 400*scaley; i += (400*scaley)/16){
       ctx.fillRect(0, i, 600*scalex, 1*scaley);
      }
     for (i = 0; i < 600*scalex; i += (600*scalex)/24) {
ctx.fillRect(i, 0, 1*scalex,400*scaley);
      }}
//GUI
      if(palette == 1){
        ctx.fillStyle = "#000000";
         ctx.fillRect(0,0,2*(610/24)*scalex,2*(410/16)*scaley);


      if(colorselected == 0){
        ctx.fillStyle = "#4d5361";
      }
      if(colorselected == 1){
        ctx.fillStyle = "#d8d7e0";
      }
      if(colorselected == 2){
        ctx.fillStyle = "#99badd";
      }
      if(colorselected == 3){
        ctx.fillStyle = "#db6161";
      }
      if(colorselected == 4){
        ctx.fillStyle = "#75b855";
      }





      ctx.fillRect(0,0,1.9*(610/24)*scalex,1.9*(410/16)*scaley);
      
      ctx.fillStyle = "#000000";
    ctx.font = 6*scalex +"px Arial";
      ctx.fillText("Press X to change",0*scalex, 13*scaley);
    ctx.fillText("Press Z to hide",0*scalex, 26*scaley);
    ctx.fillText("Press G for grid",0*scalex, 39*scaley);
    //Modifier
    ctx.fillStyle = "#000000";
         ctx.fillRect(0,2*(410/16)*scaley,2*(610/24)*scalex,1*(410/16)*scaley);
      
      ctx.fillStyle = "#ffffff";
    ctx.font = 6*scalex +"px Arial";
      ctx.fillText("V to change",0*scalex, 10*scaley+2*(410/16)*scaley);
    ctx.fillText(modifs[modif],0*scalex, 20*scaley+2*(410/16)*scaley);
    //

    if(colorselected == 2){
      ctx.fillStyle = "#000000";
         ctx.fillRect(2*(610/24)*scalex,0,2*(610/24)*scalex,2*(410/16)*scaley);
        ctx.fillStyle = "#99badd";     
      ctx.fillRect(2*(610/24)*scalex,0,1.9*(610/24)*scalex,1.9*(410/16)*scaley);
      
      ctx.fillStyle = "#000000";
      if(subBlue == 0){
       ctx.fillRect(50*scalex,0,10*scalex,10*scalex);
      }
      if(subBlue == 1){
       ctx.fillRect(70*scalex,0,10*scalex,10*scalex);
      }
      if(subBlue == 2){
       ctx.fillRect(90*scalex,0,10*scalex,10*scalex);
      }
      if(subBlue == 3){
       ctx.fillRect(90*scalex,17*scaley,10*scalex,10*scalex);
      }
      if(subBlue == 7){
       ctx.fillRect(50*scalex,17*scaley,10*scalex,10*scalex);
      }

      if(subBlue == 6){
       ctx.fillRect(50*scalex,35*scaley,10*scalex,10*scalex);
      }
      if(subBlue == 5){
       ctx.fillRect(70*scalex,35*scaley,10*scalex,10*scalex);
      }
      if(subBlue == 4){
       ctx.fillRect(90*scalex,35*scaley,10*scalex,10*scalex);
      }
    ctx.font = 5*scalex +"px Arial";
      ctx.fillText("Press R to rotate",54*scalex, 23*scaley); }
    
    }

  
    ctx.fillStyle="#bfbfbf";
    ctx.fillRect(600*scalex,0,200*scalex,600*scaley);
    ctx.fillRect(0,400*scaley,600*scalex,100*scaley);
    ctx.fillStyle="#000000";
    ctx.fillRect(10*scalex,410*scaley,590*scalex,60*scaley);  
    //arrows
    ctx.fillRect(620*scalex,150*scaley,10*scalex,15*scaley);  
    ctx.fillRect(690*scalex,150*scaley,10*scalex,15*scaley);  
    ctx.fillRect(635*scalex,150*scaley,50*scalex,15*scaley);  
    //Presets
          ctx.fillStyle="#000000";
          ctx.fillRect(620*scalex,180*scaley,80*scalex,15*scaley);  
          ctx.fillRect(620*scalex,210*scaley,80*scalex,15*scaley);  
          ctx.fillRect(620*scalex,240*scaley,80*scalex,15*scaley);  
          ctx.fillRect(620*scalex,270*scaley,80*scalex,15*scaley);  
          ctx.fillRect(620*scalex,300*scaley,80*scalex,15*scaley);  
          ctx.fillRect(620*scalex,330*scaley,80*scalex,15*scaley); 
          ctx.fillRect(620*scalex,360*scaley,80*scalex,15*scaley); 
          //
    ctx.fillStyle = "#3fbbc4";  
    ctx.fillRect(620*scalex,20*scaley,80*scalex,50*scaley);
    ctx.fillStyle = "#553fc4";
    ctx.fillRect(620*scalex,90*scaley,80*scalex,50*scaley);
    ctx.fillStyle= "#ffff00";
    ctx.fillRect(10*scalex+scalex*9*scrollbarpos,410*scaley,230*scalex,60*scaley);
    ctx.fillStyle = "#000000";
    ctx.font = 10*scalex +"px Arial";
    ctx.fillText("Use Arrow Keys to Scroll.",10*scalex+scalex*9*scrollbarpos, 420*scaley);
    ctx.fillStyle = "#3eb55d";
    ctx.fillRect(600*scalex,400*scaley,200*scalex,100*scaley);
    ctx.fillStyle = "#ffffff";
    ctx.font = 10*scalex +"px Arial";
    ctx.fillText("Click To Export",625*scalex, 50*scaley);
    ctx.fillText("Click To Import",625*scalex, 120*scaley);
    ctx.fillText("Click To Play",625*scalex, 425*scaley);
    ctx.font = 8*scalex +"px Arial";
    ctx.fillText("<",622*scalex, 160*scaley);
    ctx.fillText(">",692*scalex, 160*scaley);
          //Presets
          ctx.fillText("Load 'Tube Mayhem'",622*scalex, 190*scaley);
          ctx.fillText("Load 'Hidden Jumps'",622*scalex, 220*scaley);
          ctx.fillText("Load 'Guesser'",622*scalex, 250*scaley);
          ctx.fillText("Load 'Maze'",622*scalex, 280*scaley);
          ctx.fillText("Load 'Auto Factory'",622*scalex, 310*scaley);
          ctx.fillText("Load 'Troll'",622*scalex, 340*scaley);
          ctx.fillText("Load 'Race Track'",622*scalex, 370*scaley);
          //
    ctx.fillText(skins[skinselected],640*scalex, 160*scaley);
    DrawChaaacter(100-scrollbarpos*25,225);
    }
    if(mode == "player"){
      var canvas = document.getElementById("Pixelart");
canvas.style.width = window.innerWidth;
canvas.style.height = window.innerHeight;
scalex = window.innerWidth/600;
scaley = window.innerHeight/400;
var ctx = canvas.getContext("2d");
ctx.canvas.width  = window.innerWidth;
  ctx.canvas.height = window.innerHeight;
ctx.fillStyle = "#4d5361";
ctx.fillRect(0,0,600000,400000);
chary-=momentum/2;
charx-=momentumx/2;
if(rightmove == 1){
  charx+=1.25;}
if(leftmove == 1){
  charx-=1.25;}
if(momentum < 0){
  momentum+=0.5;}
if(momentum > 0){
  momentum-=0.5;}
if(chary < 0){
  momentum = 0;
  chary = 0;}
if(momentumx>0){
  momentumx-=0.5;}
if(momentumx<0){
  momentumx+=0.5;}
if(charx < 0){
  charx = 0;}
if(chary > 375){
  die();}
             if(momentum >= 0){
chary+=2.5;}
       
    if(level == 1){
      for(var i = 0; i < ypixels; i++){
    for(var r = 0; r < xpixels; r++){
if(squares[i][r] == 1 ||  squares[i][r] == "Q"){
    for(var z = r; squares[i][z] == 1 || squares[i][z] == "Q" ; z++){
    var squaresto =z-r;
    }
  CollisRect(25*r,i*25,squaresto*25+25,25);
}}}
         for(var i = 0; i < ypixels; i++){
    for(var r = 0; r < xpixels; r++){
if(squares[i][r] == "h" || squares[i][r] == "m"){
  momentumrect(25*r,i*25,25,25,9,0);}
  if(squares[i][r] == "a" || squares[i][r] == "."){
  momentumrect(25*r,i*25,25,25,9,15);}
  if(squares[i][r] == "b" || squares[i][r] == "z"){
  momentumrect(25*r,i*25,25,25,0,15);}
  if(squares[i][r] == "c" || squares[i][r] == "x"){
  momentumrect(25*r,i*25,25,25,-9,15);}
  if(squares[i][r] == "d" || squares[i][r] == "y"){
  momentumrect(25*r,i*25,25,25,-9,0);}
  if(squares[i][r] == "e" || squares[i][r] == "U"){
  momentumrect(25*r,i*25,25,25,-9,-9);}
  if(squares[i][r] == "f" || squares[i][r] == "W"){
  momentumrect(25*r,i*25,25,25,0,-9);}
  if(squares[i][r] == "g" || squares[i][r] == "*"){
  momentumrect(25*r,i*25,25,25,9,-9);}
if(squares[i][r] == 3 || squares[i][r] == "V"){
  painrect(25*r,i*25,25,25);}
        if(squares[i][r] == 4 || squares[i][r] == "P"){
          winrect(25*r,i*25,25,25);}
}}
  for(var i = 0; i < ypixels; i++){
    for(var r = 0; r < xpixels; r++){
if(squares[i][r] == 1 || squares[i][r] == "!"){
  DrawCollisRect(25*r,i*25,25,25);}
if(squares[i][r] == "h" || squares[i][r] == "H"){
  Drawmomentumrect(25*r,i*25,25,25,9,0);}
  if(squares[i][r] == "a" || squares[i][r] == "A"){
  Drawmomentumrect(25*r,i*25,25,25,9,15);}
  if(squares[i][r] == "b" || squares[i][r] == "B"){
  Drawmomentumrect(25*r,i*25,25,25,0,15);}
  if(squares[i][r] == "c" || squares[i][r] == "C"){
  Drawmomentumrect(25*r,i*25,25,25,-9,15);}
  if(squares[i][r] == "d" || squares[i][r] == "D"){
  Drawmomentumrect(25*r,i*25,25,25,-9,0);}
  if(squares[i][r] == "e" || squares[i][r] == "E"){
  Drawmomentumrect(25*r,i*25,25,25,-9,-9);}
  if(squares[i][r] == "f" || squares[i][r] == "F"){
  Drawmomentumrect(25*r,i*25,25,25,0,-9);}
  if(squares[i][r] == "g" || squares[i][r] == "G"){
  Drawmomentumrect(25*r,i*25,25,25,9,-9);}
if(squares[i][r] == 3 || squares[i][r] == "#"){
  Drawpainrect(25*r,i*25,25,25);}
        if(squares[i][r] == 4 || squares[i][r] == "$"){
          Drawwinrect(25*r,i*25,25,25);}}}
          CollisRect(-25,0,25,400);
          DrawCollisRect(-25,0,25,400);
 DrawCharacter(charx,chary);
            }
            if(level == 2){

    ctx.fillStyle = "#3a68de";
  ctx.font = 60*scalex +"px Arial";
  ctx.fillText( "You Won!", 100*scalex, 250*scaley);

  }ctx.fillStyle = "#000000";
            ctx.fillRect(0*scalex,0*scaley,50*scalex,50*scaley);
ctx.fillStyle = "#ffffff";
    ctx.font = 5*scalex +"px Arial";
    ctx.fillText("Click to return to editor",0*scalex, 25*scaley);
        }
scalex /=4;
scaley/=4;
DrawChaaacter(MouseX/scalex,MouseY/scaley);
scalex*=4;
scaley*=4;
      }
var interval = setInterval(Render, 8);
    </script>
  </body>