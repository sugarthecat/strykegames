<!DOCTYPE HTML>

  <head> 
    <title id="title">Super Chicken 3</title>
    <canvas id="Platformer" width="600" height="400"
style="border:1px solid #c3c3c3;">
This Game is not compatible with your browser.
</canvas>
  <body> 
    <style>
    html, body {
      width: 100%; 
      height: 100%;
      margin: 0px;
      border: 0;
      overflow: hidden;
      display: block;  
    }
    </style>
    <script> 
      let textPhase = true
      let bosshp = 100
      let showntext = []
      const textToShow = ["Why hello, little chicken.      ",
      "                                                                            ",
      "                                                                            ",
      "You come seeking a challenge, yes?                                                                                                                             ",
      "You have come to the right place...                                                                                                                             ",
      "One issue with that, though.                                                 ",
      "                                                 ",
      "It seems you are out of your league.                                                 ",
      "No matter.                                  ",
      "I'll just have to show you a true challenge.",
      "                                                                            ",
      "Remember the name.                                               ",
      "Call me. . . . . . . . . . . . . . . . . . . . . . ",
      "                                      ",
      "Goose.                                               ",
      "                                                                            ",
      "It's a shame for your story to end so soon.                                                                                                                                                                                                                      "]
      for(let i = 0; i<textToShow.length; i++){
        showntext.push("")
      }
      const credits =["Thanks for playing!",
      " ",
      " ",
      " ",
      "Super Chicken 3",
      " ",
      "Lead Developer: TJ N.",
      "Testing: Daniel R.",
      "Inspiration: Taighen S.",]
      let jumpsleft = 3;
      let scalex;
      let titleScreen = false;
      let scaley;
      var n =  new Date();
      var m = n.getMonth() + 1;
      var d = n.getDate();
      var grounded = 0;
      let startTime = Date.now()
      var time = 0;
      let canjump = 1;
      var level = 1;
      var chary = 220;
      var spawnposy = 220;
      var spawnposx = 10;
      var rightmove = 0;
      var leftmove = 0;
      var charx = 10;
      var momentum = 0;
      let levelblocks = [];
      var momentumx = 10;
      let maxleft = 0;
      let maxright = 1500;
      let maxtop = 0;
      let maxbottom = 400;
      let attachedblock = false;
      let dxadd = 0;
      let dyadd = 0;
      let entities = []
      function DrawCharacter(x,y){ 
        var canvas = document.getElementById("Platformer");
        var ctx = canvas.getContext("2d");

        ctx.fillStyle = "#ffffff";
        ctx.fillRect(x*scalex,y*scaley+5*scaley,25*scalex,20*scaley);
        ctx.fillStyle = "#dbdbdb";
        ctx.fillRect(x*scalex,y*scaley+5*scaley,25*scalex,7*scaley);
        ctx.fillStyle = "#ffffff";

        if(rightmove == 1){

        ctx.fillRect(x*scalex+15*scalex,y*scaley,10*scalex,15*scaley);
        ctx.fillStyle = "#d14141";
        ctx.fillRect(x*scalex+18*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
        ctx.fillRect(x*scalex+18*scalex,y*scaley-3*scaley,3*scalex,3*scaley);
        }

        if(rightmove == 0){
          if(leftmove == 1){
          
        ctx.fillRect(x*scalex,y*scaley,10*scalex,15*scaley);
        ctx.fillStyle = "#d14141";
        ctx.fillRect(x*scalex+3*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
        ctx.fillRect(x*scalex+3*scalex,y*scaley-3*scaley,3*scalex,3*scaley);
        }

        if(leftmove == 0){

        ctx.fillRect(x*scalex+7.5*scalex,y*scaley,10*scalex,15*scaley);
        ctx.fillStyle = "#d14141";
        ctx.fillRect(x*scalex+10.5*scalex,y*scaley+8*scaley,3*scalex,5*scaley);
        ctx.fillRect(x*scalex+10*scalex,y*scaley-3*scaley,3*scalex,3*scaley);}
        }}
      function Drawmomentumrect(rectxmom,rectymom,momrectwidth,momrectheight,plusmomx,plusmomy){
        var canvas = document.getElementById("Platformer");
        var ctx = canvas.getContext("2d");
        ctx.fillStyle =   "#99badd";
        ctx.fillRect(-1*charx*scalex+275*scalex+rectxmom*scalex,rectymom*scaley,momrectwidth*scalex,momrectheight*scaley);
           
        if(rectxmom < charx+25){
          if(rectymom < chary+25){
            if(chary < rectymom+momrectheight){
              if(charx < momrectwidth+rectxmom){
                                momentum = plusmomy;
                                momentumx  = plusmomx;
                            }}}}
      }
            
        function DrawGameRect(rectx,recty,rectwidth,rectheight,color){
          var canvas = document.getElementById("Platformer");
          var ctx = canvas.getContext("2d");
          ctx.fillStyle = color;
          let showx = rectx*scalex;
          let showy = recty*scaley;
          if(charx < maxleft + 275){
            showx = rectx * scalex - maxleft*scalex;
          }else if(charx >= maxright -325){
            showx = rectx*scalex-maxright*scalex+scalex*600
          }else{
            
            showx = -1*charx*scalex+275*scalex+rectx*scalex
          }
          //vert adjustment
          if(chary < maxtop + 275){
            showy = recty * scaley - maxtop*scaley  ;
          }else if(chary >= maxbottom -125){
            showy = recty*scaley-maxbottom*scaley+scaley*400
          }else{
            showy = -1*chary*scaley+275*scaley+recty*scaley
          }
          
          ctx.fillRect(showx,showy,rectwidth*scalex,rectheight*scaley)
        }
        function CollisRect(rectx,recty,collisrectwidth,collisrectheight){
        var collisionside;
        let thing = true;
        let numon = 0;
        //x,y,coll,gr
        let colliscoms = [[0,-3,1,1],[-1.5,3,2,0],[3,0,3,0],[-1.5,1.5,0,0],[0,-7.5,1,1],[-3,6,2,0],[6,0,3,0],[-3,0,0,0]]
        while(thing && (recty < chary+25 && rectx < charx + 25 && chary < recty+collisrectheight && charx < collisrectwidth+rectx)){
          charx += colliscoms[numon][0]
          chary += colliscoms[numon][1]
          collisionside = colliscoms[numon][2]
          grounded = colliscoms[numon][2]
          numon++
          if(numon >= colliscoms.length){
          thing = false}
        }

        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                chary-=25/2;
                grounded = 1;
                collisionside = 1;
                  //Up
              }}}}
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                chary+=25/2;
                charx-=25/2;
                grounded = 0;
                collisionside = 2;
                  //left
              }
            }
          }
        }
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                collisionside = 3;
                charx+=25;
                  //right
                  
              }
            }
          }
        }
        if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                charx-=25/2;
                collisionside = 0;
              }
            }
          }
        }if(rectx < charx+25){
          if(recty < chary+25){
            if(chary < recty+collisrectheight){
              if(charx < collisrectwidth+rectx){
                  collisionside = 10;
              }
            }
          }
        }
       if(collisionside == 10){
        if(momentum >0){   
          momentum = 0;
          chary = recty+collisrectheight;
        }
        if(momentum < 0){
          momentum = 0;
          chary = recty-25;
        }
        if(rectx < charx+25 && recty < chary+25){
          if(chary < recty+collisrectheight){
            if(charx < collisrectwidth+rectx){
              if(momentumx > 0){
                momentumx = 0;
                charx = rectx+collisrectwidth;
              }
              if(momentumx < 0){
                momentumx = 0;
                charx = rectx-25;   
              }
            }
          }
        }
       }
         if(collisionside == 2){
          momentumx = 0;
          charx = rectx-25;
        }
        if(collisionside == 3){
          momentumx = 0;
          charx = rectx+collisrectwidth;
        }
        if(collisionside == 0){
          momentum = 0;
          chary = recty+collisrectheight;
        }
        if(collisionside == 1){
          chary = recty-25;
          attachedblock = true;
        }
        for(let i = 0; i<entities.length; i++){
          if((entities[i].type == "egg" || entities[i].type == "projectile" || entities[i].type == "homingprojectile") && rectx < entities[i].x+entities[i].w && rectx +collisrectwidth > entities[i].x && recty < entities[i].y+entities[i].h && recty +collisrectheight > entities[i].y){
            entities[i].alive = false;
          }
          if(entities[i].type == "goose" && ((entities[i].x > maxright && entities[i].dx > 0) || (entities[i].x < maxleft && entities[i].dx < 0))){
            entities[i].alive = false;
          }
        }       
}
let summonabble = {up:true,down:true,left:true,right:true}
document.addEventListener('keydown', function(evt) {
    switch (evt.code) {
      case 'KeyW':
        if(momentum <= 0){
          if(canjump == 1 && jumpsleft > 0){
            momentum = 15;
            jumpsleft--;
            canjump = 0;}}
        break;
      case 'KeyA':
        leftmove = 1;
        break;
      case 'KeyD':
        rightmove = 1;
        break;
      case 'ArrowRight':
        if(summonabble.right){
          summonabble.right = false;
          entities.push({x:charx+12.5,y:chary+12.5,w:5,h:10,type:"egg",alive:true,dx:5+dxadd,dy:0+dyadd});
        }
        break;
      case 'ArrowUp':
        if(summonabble.up){
          summonabble.up = false;
          entities.push({x:charx+12.5,y:chary+12.5,w:5,h:10,type:"egg",alive:true,dx:0+dxadd,dy:-5+dyadd});
        }
        break;
      case 'ArrowLeft':
        if(summonabble.left){
          summonabble.left = false;
          entities.push({x:charx+12.5,y:chary+12.5,w:5,h:10,type:"egg",alive:true,dx:-5+dxadd,dy:0+dyadd});
        }
        break;
      case 'ArrowDown':
        if(summonabble.down){
          summonabble.down = false;
          entities.push({x:charx+12.5,y:chary+12.5,w:5,h:10,type:"egg",alive:true,dx:0+dxadd,dy:5+dyadd});
        }
        break;
    }
  })
document.addEventListener('keyup', function(evt) {
    switch (evt.code) {
      case 'KeyW':
          canjump = 1;
        break;
      case 'KeyD':
          rightmove = 0;
        break;
      case 'KeyA':
          leftmove = 0;
        break;
      case 'ArrowRight':
          summonabble.right = true;
        break;
      case 'ArrowUp':
          summonabble.up = true;
        break;
      case 'ArrowLeft':
          summonabble.left = true;
        break;
      case 'ArrowDown':
          summonabble.down = true;
        break;
    }
  })
function RLevel(){
  dyadd = 0;
  dxadd = 0;
  for(let i = 0; i<levelblocks.length; i++){
    attachedblock = false;
    if(levelblocks[i].type == "collision"){
      CollisRect(levelblocks[i].x,levelblocks[i].y,levelblocks[i].width,levelblocks[i].height)
    }
    if(levelblocks[i].changex){
      levelblocks[i].x+= levelblocks[i].changex;
      if(attachedblock){
        charx+= levelblocks[i].changex
        dxadd = levelblocks[i].changex;
      }
      if(levelblocks[i].x < levelblocks[i].xmin){
        levelblocks[i].x = levelblocks[i].xmin
        levelblocks[i].changex*=-1
      }
      if(levelblocks[i].x > levelblocks[i].xmax){
        levelblocks[i].x = levelblocks[i].xmax
        levelblocks[i].changex*=-1
      }
    }
    if(levelblocks[i].changey){
      levelblocks[i].y+= levelblocks[i].changey;
      if(attachedblock){
        chary+= levelblocks[i].changey
        dyadd = levelblocks[i].changey;
      }
      if(levelblocks[i].y < levelblocks[i].ymin){
        levelblocks[i].y = levelblocks[i].ymin
        levelblocks[i].changey*=-1
      }
      if(levelblocks[i].y > levelblocks[i].ymax){
        levelblocks[i].y = levelblocks[i].ymax
        levelblocks[i].changey*=-1
      }
    }
  }
  for(let i = 0; i<levelblocks.length; i++){
    
    if(levelblocks[i].type == "collision"){
      DrawGameRect(levelblocks[i].x,levelblocks[i].y,levelblocks[i].width,levelblocks[i].height,"#d8d7e0")
    }
    if(levelblocks[i].type == "win"){
      DrawGameRect(levelblocks[i].x,levelblocks[i].y,levelblocks[i].width,levelblocks[i].height,"#75b855")
      if(levelblocks[i].x < charx+25){
                if(levelblocks[i].y < chary+25){
                  if(chary < levelblocks[i].y+levelblocks[i].height){
                    if(charx < levelblocks[i].x+levelblocks[i].width){
                      level+= 1;
                      die()
                      break;
                      }
                    }
                  }
                }
    }
    if(levelblocks[i].type == "pain"){
      DrawGameRect(levelblocks[i].x,levelblocks[i].y,levelblocks[i].width,levelblocks[i].height,"#db6161")
      if(levelblocks[i].x < charx+25){
                if(levelblocks[i].y < chary+25){
                  if(chary < levelblocks[i].y+levelblocks[i].height){
                    if(charx < levelblocks[i].x+levelblocks[i].width){
                      die()
                      break;
                      }
                    }
                  }
                }
    }
  }
  let repeatimes = entities.length;
  for(let i = 0; i<repeatimes; i++){
    if(entities[0].alive){
      entities.push(entities[0])
    }
    entities.shift()
  }
  for(let i = 0; i<entities.length; i++){
    if(entities[i].changex){
      entities[i].x+= entities[i].changex;
      if(entities[i].x < entities[i].xmin && entities[i].changex < 0){
        entities[i].x = entities[i].xmin
        entities[i].changex*=-1
      }
      if(entities[i].x > entities[i].xmax && entities[i].changex > 0){
        entities[i].x = entities[i].xmax
        entities[i].changex*=-1
      }
    }
    if(entities[i].changey){
      entities[i].y+= entities[i].changey;
      if(entities[i].y < entities[i].ymin && entities[i].changey < 0){
        entities[i].y = entities[i].ymin
        entities[i].changey*=-1
      }
      if(entities[i].y > entities[i].ymax && entities[i].changey > 0){
        entities[i].y = entities[i].ymax
        entities[i].changey*=-1
      }
    }
    if(entities[i].type == "egg" || entities[i].type == "projectile"){
      entities[i].x += entities[i].dx;
      entities[i].y += entities[i].dy;
    }
    if(entities[i].type == "egg"){
      DrawGameRect(entities[i].x,entities[i].y,entities[i].w,entities[i].h,"#ff6000")
    }
    if(entities[i].type == "projectile"){
      DrawGameRect(entities[i].x,entities[i].y,entities[i].w,entities[i].h,"#ff0060")
    }
    if(entities[i].type == "goose"){
      entities[i].x += entities[i].dx;
      entities[i].y += entities[i].dy;
      DrawGameRect(entities[i].x+entities[i].w/2,entities[i].y,entities[i].w/2,entities[i].h,"#ffffff")
      DrawGameRect(entities[i].x,entities[i].y+entities[i].h/2,entities[i].w,entities[i].h/2,"#ffffff")
      DrawGameRect(entities[i].x+entities[i].w-5,entities[i].y+15,15,9,"#ffa200")
      DrawGameRect(entities[i].x+entities[i].w-20,entities[i].y+5,10,10,"#000000")
      for(let e = 0; e<entities.length; e++){
        if(entities[e].type == "egg" && entities[e].x < entities[i].x+entities[i].w && entities[e].y < entities[i].y+entities[i].h && entities[i].y < entities[e].y+entities[e].h && entities[i].x < entities[e].x+entities[e].w && entities[e].alive){
          entities[e].alive = false;
          bosshp -=1.5
        }
      }
    }
    if(entities[i].type == "projectile" || entities[i].type == "homingprojectile"){
      if(charx < entities[i].x+entities[i].w && chary < entities[i].y+entities[i].h && entities[i].y < chary+25 && entities[i].x < charx+25){
          die()
          break;
        }
    }

    if(entities[i].type == "homingprojectile"){
      DrawGameRect(entities[i].x,entities[i].y,entities[i].w,entities[i].h,"#ff0088")
      let xdiff = entities[i].x+entities[i].w/2 - (charx+12.5);
      let ydiff = entities[i].y+entities[i].h/2 - (chary+12.5);
      xdiff = Math.abs(xdiff);
      ydiff = Math.abs(ydiff);
      entities[i].dx = xdiff/(xdiff+ydiff)*-1 * entities[i].speed
      entities[i].dy = ydiff/(ydiff+xdiff)*-1 * entities[i].speed
      if(chary+12.5 > entities[i].y+entities[i].h/2){
        entities[i].dy*=-1;
      }
      if(charx+12.5 > entities[i].x+entities[i].w/2){
        entities[i].dx*=-1;
      }
      entities[i].x += entities[i].dx
      entities[i].y += entities[i].dy
      for(let e = 0; e<entities.length; e++){
        if(entities[e].type == "egg" && entities[e].x < entities[i].x+entities[i].w && entities[e].y < entities[i].y+entities[i].h && entities[i].y < entities[e].y+entities[e].h && entities[i].x < entities[e].x+entities[e].w && entities[e].alive){
          entities[i].alive = false;
          entities[e].alive = false;
        }
      }
    }
    if( entities[i].type == "360shooter"){
      DrawGameRect(entities[i].x,entities[i].y,entities[i].w,entities[i].h,"#750169")
    }
    if(entities[i].type == "4shooter" ){
      DrawGameRect(entities[i].x,entities[i].y,entities[i].w,entities[i].h,"#db5ece")
    }
    if(entities[i].type == "8shooter"){
      DrawGameRect(entities[i].x,entities[i].y,entities[i].w,entities[i].h,"#bd2bae")
    }
    if(entities[i].type == "homingshooter"){
      DrawGameRect(entities[i].x,entities[i].y,entities[i].w,entities[i].h,"#ad004e")
      for(let e = 0; e<entities.length; e++){
        if(entities[e].type == "egg" && entities[e].x < entities[i].x+entities[i].w && entities[e].y < entities[i].y+entities[i].h && entities[i].y < entities[e].y+entities[e].h && entities[i].x < entities[e].x+entities[e].w && entities[e].alive){
          entities[i].alive = false;
          entities[e].alive = false;
        }
      }
      entities[i].time++
      if(entities[i].time >= entities[i].shootat){
        entities[i].time = entities[i].time % entities[i].shootat
        entities.push({type:"homingprojectile",x:entities[i].x+entities[i].w/2,y:entities[i].y+entities[i].h/2,w:5,h:5,alive:true,speed:entities[i].bulletspeed},)

      }
    }
    if(entities[i].type == "8shooter" || entities[i].type == "4shooter" || entities[i].type == "360shooter"){
      if(!entities[i].bulletspeed){
        entities[i].bulletspeed = 5
      }
      if(entities[i].time > entities[i].shootat){
        entities[i].time = 0;
        entities.push({type:"projectile",x:entities[i].x+entities[i].w/2,y:entities[i].y+entities[i].h/2,w:5,h:5,dx:0,dy:0,alive:true})
        let xdiff = entities[i].x+entities[i].w/2 - (charx+12.5);
        let ydiff = entities[i].y+entities[i].h/2 - (chary+12.5);
        xdiff = Math.abs(xdiff);
        ydiff = Math.abs(ydiff);
        if(entities[i].type == "8shooter"){
          if(entities[i].x+entities[i].w/2 < charx+12.5 && Math.abs(xdiff) > Math.abs(ydiff)/2){
            entities[entities.length-1].dx = entities[i].bulletspeed
          }else if(entities[i].x+entities[i].w/2 > charx+12.5 && Math.abs(xdiff) > Math.abs(ydiff)/2){
            entities[entities.length-1].dx = entities[i].bulletspeed*-1
          }else{
            entities[entities.length-1].dx = 0
          }
          //check y direction

          if(entities[i].y+entities[i].h/2 < chary+12.5 && Math.abs(ydiff) > Math.abs(xdiff)/2){
            entities[entities.length-1].dy = entities[i].bulletspeed
          }else if(entities[i].y+entities[i].h/2 > chary+12.5 && Math.abs(ydiff) > Math.abs(xdiff)/2){
            entities[entities.length-1].dy = -1* entities[i].bulletspeed
          }else{
            entities[entities.length-1].dy = 0
          }
        }else if(entities[i].type == "4shooter"){
          if(xdiff > ydiff){
            if(charx+12.5 < entities[i].x+entities[i].w){
              entities[entities.length-1].dx = -1*entities[i].bulletspeed
            }else{
              entities[entities.length-1].dx = entities[i].bulletspeed
            }
          }else{
            if(chary+12.5 < entities[i].y+entities[i].h){
              entities[entities.length-1].dy = -1*entities[i].bulletspeed
            }else{
              entities[entities.length-1].dy = entities[i].bulletspeed
            }
          }
          //check y direction

          
        }else if(entities[i].type == "360shooter"){
            entities[entities.length-1].dx = xdiff/(xdiff+ydiff)*-1 * entities[i].bulletspeed
            entities[entities.length-1].dy = ydiff/(ydiff+xdiff)*-1 * entities[i].bulletspeed
            if(chary+12.5 > entities[i].y+entities[i].h/2){
              entities[entities.length-1].dy*=-1;
            }
            if(charx+12.5 > entities[i].x+entities[i].w/2){
              entities[entities.length-1].dx*=-1;
            }
        }
      }
      entities[i].time++;

      for(let e = 0; e<entities.length; e++){
        if(entities[e].type == "egg" && entities[e].x < entities[i].x+entities[i].w && entities[e].y < entities[i].y+entities[i].h && entities[i].y < entities[e].y+entities[e].h && entities[i].x < entities[e].x+entities[e].w && entities[e].alive){
          entities[i].alive = false;
          entities[e].alive = false;
        }
      }
    }
    if ((entities[i].x > maxright || entities[i].x + entities[i].w < maxleft || entities[i].y < maxtop) && (entities[i].type == "egg" || entities[i].type == "projectile")) {
      entities[i].alive = false;
    }

  }
  
}
function setLevel(){
  entities = []
  levelblocks = []
  maxtop = 0;
  maxleft = 0;
  maxright = 600;
  bosshp = 100;
  maxbottom = 400;
  if(level == 1){
    entities = []
    levelblocks = [{type: "collision", x: 0, y: 300, width: 600, height:100},
    {type: "pain", x: 400, y: 250, width: 25, height:50},
    {type: "collision", x: 700, y: 300, width: 400, height:100},
    {type: "collision", x: 1300, y: 300, width: 150, height:30},
    {type: "collision", x: 850, y: 100, width: 30, height:200},
    {type: "collision", x: 300, y: 100, width: 100, height:25},
    {type: "collision", x: 400, y: 150, width: 100, height:25},
    {type: "win", x: 1450, y: 0, width: 100, height:600}]
    maxright = 1500;
  //level codes here
  }
    if(level == 2){
    entities= [{type:"4shooter", x:400,y:0,w:50,h:50,time:0,alive:true,shootat:30},
    {type:"8shooter", x:800,y:0,w:50,h:50,time:0,alive:true,shootat:30},
    {type:"360shooter", x:1200,y:0,w:50,h:50,time:0,alive:true,shootat:30},]
    levelblocks = [
    {type:"collision",x:0,y:300,height:100,width:1500},
    {type:"collision",x:200,y:0,height:200,width:50},
    {type:"collision",x:600,y:0,height:200,width:50},
    {type:"collision",x:1000,y:0,height:200,width:50},
    {type:"collision",x:1400,y:0,height:200,width:100},
    {type:"win",x:1450,y:200,height:100,width:50},
    ]
    maxright = 1500
  }
  if(level == 3){
       entities =[]
    levelblocks = [{type:"collision",x:0,y:300,height:50,width:400},
    {type:"collision",x:200,y:600,height:50,width:400},
    {type:"collision",x:0,y:900,height:50,width:300},
    {type:"collision",x:400,y:1200,height:50,width:200},
    {type:"collision",x:0,y:1500,height:50,width:100},
    {type:"win",x:0,y:1450,height:50,width:50},
    ]
    maxright = 600;
    maxbottom = 2000;
  }
  if(level == 4){
    entities = []
    levelblocks = [
    {type:"collision",x:0,y:300,height:100,width:1100},
    {type:"pain",x:100,y:0,height:20,width:50},
    {type:"pain",x:200,y:280,height:20,width:50},
    {type:"pain",x:300,y:0,height:50,width:50},
    {type:"pain",x:400,y:250,height:50,width:50},
    {type:"pain",x:500,y:0,height:100,width:50},
    {type:"pain",x:600,y:200,height:100,width:50},
    {type:"pain",x:700,y:0,height:150,width:50},
    {type:"pain",x:800,y:200,height:100,width:50},
    {type:"pain",x:900,y:0,height:200,width:50},
    {type:"pain",x:1000,y:200,height:100,width:50},
    {type:"win",x:1050,y:300,height:100,width:150},]
    maxright = 1200;
  }
     if(level == 5){
    levelblocks = [{type: "collision", x: 0, y: 300, width: 1100, height:30},
    {type: "collision", x: 850, y: 50, width: 30, height:200},
    {type: "collision", x: 50, y: 0, width: 30, height:200},
    {type: "collision", x: 150, y: 0, width: 30, height:200},
    {type: "collision", x: 250, y: 120, width: 30, height:200},
    {type: "collision", x: 150, y: 50, width: 720, height:30},
    {type: "win", x: 180, y: 0, width: 50, height:50},]
    entities = [{type:"4shooter", x:300,y:275,w:25,h:25,time:0,alive:true,shootat:80},
    {type:"4shooter", x:350,y:275,w:25,h:25,time:10,alive:true,shootat:80},
    {type:"4shooter", x:400,y:275,w:25,h:25,time:20,alive:true,shootat:80},
    {type:"4shooter", x:450,y:275,w:25,h:25,time:30,alive:true,shootat:80},
    {type:"4shooter", x:500,y:275,w:25,h:25,time:40,alive:true,shootat:80},
    {type:"4shooter", x:550,y:275,w:25,h:25,time:50,alive:true,shootat:80},
    {type:"4shooter", x:600,y:275,w:25,h:25,time:60,alive:true,shootat:80},
    {type:"4shooter", x:650,y:275,w:25,h:25,time:70,alive:true,shootat:80},]
    maxright = 1100;
  }

  if(level == 6){
    
    levelblocks = [{type:"collision",x:0,y:300,height:100,width:400},
    {type:"collision",x:0,y:0,height:100,width:300},
    {type:"collision",x:500,y:300,height:100,width:100},
    {type:"collision",x:580,y:200,height:100,width:20},
    {type:"collision",x:700,y:300,height:100,width:300},
    {type:"collision",x:780,y:200,height:100,width:20},
    {type:"collision",x:980,y:200,height:100,width:20},
    {type:"collision",x:1100,y:300,height:100,width:50},
    {type:"collision",x:1200,y:300,height:100,width:175},
    {type:"collision",x:1500,y:300,height:100,width:350},
    {type:"win",x:1900,y:0,height:400,width:100},
    ]
    entities = [{type:"360shooter", x:1500,y:0,w:50,h:50,time:0,alive:true,shootat:30},
    {type:"4shooter", x:1475,y:0,w:25,h:25,time:0,alive:true,shootat:60},
    {type:"4shooter", x:1475,y:25,w:25,h:25,time:15,alive:true,shootat:60},
    {type:"4shooter", x:1550,y:0,w:25,h:25,time:30,alive:true,shootat:60},
    {type:"4shooter", x:1550,y:25,w:25,h:25,time:45,alive:true,shootat:60},]
    maxright = 2000;
  }
  if(level == 7){
    maxright = 1200;
    maxbottom = 400;
    entities =[]
    levelblocks = [{type:"collision",x:0,y:300,width:251,height:100},
    {type:"collision",x:100,y:200,width:50,height:101},
    {type:"collision",x:200,y:100,width:51,height:201},
    {type:"collision",x:200,y:375,width:1000,height:25},
    {type:"collision",x:250,y:25,width:50,height:375},
    {type:"collision",x:400,y:50,width:50,height:50},
    {type:"pain",x:300,y:350,width:900,height:25}, 
    {type:"collision",x:600,y:50,width:50,height:50},
    {type:"collision",x:900,y:50,width:50,height:50},
    {type:"win",x:1150,y:0,width:50,height:350},
    {type:"collision",x:1100,y:0,width:50,height:150},   ]
  }
  if(level == 8){
    maxright = 2500;
    maxbottom = 400;
    entities =[]
    levelblocks = [{type:"collision",x:0,y:350,width:2400,height:50},
    {type:"collision",x:200,y:300,width:50,height:50},
    {type:"collision",x:300,y:250,width:50,height:100},
    {type:"collision",x:400,y:200,width:50,height:150},
    {type:"pain",x:200,y:290,width:50,height:10},
    {type:"pain",x:300,y:240,width:50,height:10},
    {type:"pain",x:400,y:190,width:50,height:10},
    {type:"collision",x:700,y:300,width:100,height:100},
    {type:"collision",x:900,y:250,width:80,height:150},
    {type:"collision",x:1100,y:210,width:60,height:200},
    {type:"pain",x:700,y:290,width:100,height:10},
    {type:"pain",x:900,y:240,width:80,height:10},
    {type:"pain",x:1100,y:200,width:60,height:10}, 
    {type:"collision",x:1500,y:300,width:100,height:50}, 
    {type:"collision",x:1700,y:300,width:125,height:50}, 
    {type:"collision",x:2000,y:300,width:150,height:50}, 
    {type:"pain",x:1500,y:290,width:100,height:10}, 
    {type:"pain",x:1700,y:290,width:125,height:10}, 
    {type:"pain",x:2000,y:290,width:150,height:10}, 
    {type:"win",x:2400,y:0,width:100,height:400},  ]
  }
  if(level == 9){
    maxright = 1300;
    maxbottom = 400;
    entities =[]
    levelblocks = [{type:"collision",x:0,y:350,width:200,height:50},
                  {type:"collision",x:150,y:100,width:50,height:250},
                  {type:"collision",x:325,y:100,width:100,height:25},
                  {type:"collision",x:362.5,y:0,width:25,height:100},
                  {type:"collision",x:630,y:100,width:120,height:25},
                  {type:"collision",x:662.5,y:0,width:25,height:100},
                  {type:"collision",x:930,y:100,width:125,height:25},
                  {type:"collision",x:962.5,y:0,width:25,height:100},
                  {type:"win",x:1275,y:0,width:25,height:400},]
  }
     if(level == 10){
    maxright = 1500;
    maxbottom = 400;
    entities = [{type:"360shooter", x:300,y:0,w:50,h:50,time:0,alive:true,shootat:5,bulletspeed:1},
               {type:"360shooter", x:600,y:0,w:50,h:50,time:0,alive:true,shootat:3,bulletspeed:1.5},
               {type:"360shooter", x:900,y:0,w:50,h:50,time:0,alive:true,shootat:2,bulletspeed:2},
               {type:"360shooter", x:1200,y:0,w:50,h:50,time:0,alive:true,shootat:1,bulletspeed:5},]
    levelblocks = [{type:"collision",x:0,y:350,width:1300,height:50},
                  {type:"collision",x:150,y:200,width:50,height:200},
                  {type:"collision",x:450,y:0,width:50,height:200},
                  {type:"collision",x:750,y:200,width:50,height:200},
                  {type:"collision",x:1050,y:0,width:50,height:200},
                  {type:"win",x:1475,y:0,width:25,height:400},]
                   }
     if(level == 11){
    maxright = 1000;
    maxbottom = 400;
    entities = [
               
               ]
          for(let i = 0; i<350; i+=25){
          entities.push({type:"4shooter", x:825,y:i,w:25,h:25,time:Math.random()*100,alive:true,shootat:100,bulletspeed:1.5})
          }
    levelblocks = [{type:"collision",x:0,y:350,width:1300,height:50},
                  {type:"collision",x:550,y:200,width:50,height:200},
                  {type:"collision",x:350,y:0,width:50,height:200},
                  {type:"win",x:975,y:0,width:25,height:400},]
                   }
  if(level == 12){
    maxright = 1000;
    maxbottom = 400;
    entities = []
    for(let i = 0; i<350; i+=25){
    entities.push({type:"360shooter", x:825,y:i,w:25,h:25,time:Math.random()*100,alive:true,shootat:50,bulletspeed:1.5})
    }
    levelblocks = [{type:"collision",x:0,y:350,width:1300,height:50},
    {type:"collision",x:550,y:200,width:50,height:200},
    {type:"collision",x:350,y:0,width:50,height:200},
    {type:"win",x:975,y:0,width:25,height:400},]
     }
  if(level == 13){
    maxright = 600;
    maxbottom = 400;
    maxtop = -1300;
    entities =[]
    levelblocks = [{type:"collision",x:0,y:350,width:600,height:50},
    {type:"collision",x:0,y:-1100,width:300,height:50},
    {type:"collision",x:0,y:-900,width:200,height:50},
    {type:"collision",x:0,y:-600,width:150,height:50},
    {type:"collision",x:0,y:-300,width:200,height:50},
    {type:"collision",x:0,y:0,width:250,height:50},
    {type:"collision",x:100,y:200,width:300,height:50},
    {type:"win",x:0,y:-1300,width:50,height:200},
    {type:"pain",x:550,y:-1300,width:50,height:1650},]
  }
  if(level == 14){
    maxright = 2200;
    maxbottom = 400;
    entities =[]
    levelblocks = [{type:"collision",x:0,y:350,width:200,height:50},
    {type:"collision",x:450,y:350,width:100,height:50,changex:-0.5,xmin:200,xmax:550},
    {type:"collision",x:550,y:150,width:100,height:50},
    {type:"collision",x:700,y:150,width:100,height:50,changey:0.25,ymin:50,ymax:300},
    {type:"collision",x:900,y:150,width:100,height:50,changey:0.70,ymin:50,ymax:300},
    {type:"collision",x:1150,y:150,width:100,height:50,changey:1.4,ymin:50,ymax:300},
    {type:"collision",x:1400,y:150,width:100,height:50,changey:2.5,ymin:50,ymax:300},
    {type:"collision",x:1600,y:150,width:100,height:50,changey:3,ymin:50,ymax:300},
    {type:"collision",x:1900,y:150,width:100,height:50,changey:4,ymin:50,ymax:300},
    {type:"win",x:2175,y:0,width:25,height:400},
    ]
  }
  if(level == 15){
    maxright = 1800;
    maxbottom = 400;
    entities =[]
    levelblocks = [{type:"collision",x:0,y:350,width:1800,height:50},
    {type:"win",x:1775,y:0,width:1200,height:350},
    {type:"collision",x:200,y:200,width:25,height:150},
    {type:"collision",x:400,y:200,width:25,height:150},
    {type:"collision",x:600,y:200,width:25,height:150},
    {type:"collision",x:800,y:200,width:25,height:150},
    {type:"collision",x:200,y:200,width:25,height:150},
    {type:"collision",x:1000,y:200,width:25,height:150},
    {type:"collision",x:1200,y:200,width:25,height:150},
    {type:"collision",x:1400,y:200,width:25,height:150},
    {type:"collision",x:1600,y:200,width:25,height:150},
    ]
    for(let i = 0; i<1800;i+=400){
      levelblocks.push({type:"pain",x:i,y:0,width:50,height:200,changex:5,xmin:0,xmax:1750})
    }
    for(let i = 0; i<1800;i+=400){
      levelblocks.push({type:"pain",x:i,y:0,width:50,height:200,changex:-5,xmin:0,xmax:1750})
    }
  }
  if(level == 16){
    maxtop = -1100;
    entities =[]
    levelblocks = [{type:"collision",x:0,y:350,width:600,height:50},
    {type:"win",x:0,y:-1100,width:600,height:50},
    ]
    for(let i = 100; i>-1100;i-=200){
      levelblocks.push({type:"collision",x:Math.random()*600,y:i,width:100,height:25,changex:Math.abs(i)/200,xmin:0,xmax:500})
    }
  }
  if(level == 17){
    maxright = 750;
    maxbottom = 400;
    entities =[{type:"4shooter", x:100,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:4,changex:1,xmin:100,xmax:600},
    {type:"4shooter", x:600,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:4,changex:1,xmin:100,xmax:600},
    {type:"4shooter", x:350,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:4,changex:1,xmin:100,xmax:600},
    {type:"4shooter", x:350,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:4,changex:-1,xmin:100,xmax:600},
    {type:"4shooter", x:225,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:4,changex:-1,xmin:100,xmax:600},
    {type:"4shooter", x:225,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:4,changex:1,xmin:100,xmax:600},
    {type:"4shooter", x:475,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:4,changex:1,xmin:100,xmax:600},
    {type:"4shooter", x:475,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:4,changex:-1,xmin:100,xmax:600},
    ]
    levelblocks = [{type:"collision",x:0,y:350,width:700,height:50},
    {type:"win",x:700,y:0,width:50,height:400},]
  }
  if(level == 18){
    maxright = 750;
    maxbottom = 400;
    entities =[{type:"8shooter", x:100,y:0,w:25,h:25,time:0,alive:true,shootat:20,bulletspeed:5,changex:1,xmin:100,xmax:600},
    {type:"8shooter", x:600,y:0,w:25,h:25,time:0,alive:true,shootat:20,bulletspeed:5,changex:1,xmin:100,xmax:600},
    {type:"8shooter", x:350,y:0,w:25,h:25,time:0,alive:true,shootat:20,bulletspeed:5,changex:1,xmin:100,xmax:600},
    {type:"8shooter", x:350,y:0,w:25,h:25,time:0,alive:true,shootat:20,bulletspeed:5,changex:-1,xmin:100,xmax:600},
    
    ]
    levelblocks = [{type:"collision",x:0,y:350,width:700,height:50},
    {type:"win",x:700,y:0,width:50,height:400},]
  }
  if(level == 19){
    maxright = 750;
    maxbottom = 400;
    entities =[{type:"360shooter", x:100,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:6,changex:1,xmin:100,xmax:600},
    {type:"360shooter", x:600,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:6,changex:1,xmin:100,xmax:600},
    {type:"360shooter", x:350,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:6,changex:1,xmin:100,xmax:600},
    {type:"360shooter", x:350,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:6,changex:-1,xmin:100,xmax:600},
    {type:"360shooter", x:225,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:6,changex:-1,xmin:100,xmax:600},
    {type:"360shooter", x:225,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:6,changex:1,xmin:100,xmax:600},
    {type:"360shooter", x:475,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:6,changex:1,xmin:100,xmax:600},
    {type:"360shooter", x:475,y:0,w:25,h:25,time:0,alive:true,shootat:30,bulletspeed:6,changex:-1,xmin:100,xmax:600},
    ]
    levelblocks = [{type:"collision",x:0,y:350,width:700,height:50},
    {type:"win",x:700,y:0,width:50,height:400},]
  }
  if(level == 20){
    maxright = 750;
    maxbottom = 400;
    entities =[{type:"homingshooter", x:300,y:275,w:25,h:25,time:0,alive:true,shootat:100,bulletspeed:2},]
    levelblocks = [{type:"collision",x:0,y:350,width:700,height:50},
    {type:"collision",x:200,y:150,width:50,height:200},
    {type:"collision",x:300,y:300,width:50,height:50},
    {type:"win",x:700,y:0,width:50,height:400},]
  }
  if(level == 21){
    maxright = 750;
    maxbottom = 400;
    entities =[{type:"homingshooter", x:100,y:0,w:25,h:25,time:0,alive:true,shootat:100,bulletspeed:2},
    {type:"homingshooter", x:200,y:50,w:25,h:25,time:0,alive:true,shootat:100,bulletspeed:2},
    {type:"homingshooter", x:300,y:100,w:25,h:25,time:0,alive:true,shootat:100,bulletspeed:2},
    {type:"homingshooter", x:400,y:150,w:25,h:25,time:0,alive:true,shootat:100,bulletspeed:2},
    {type:"homingshooter", x:500,y:200,w:25,h:25,time:0,alive:true,shootat:100,bulletspeed:2},]
    levelblocks = [{type:"collision",x:0,y:350,width:700,height:50},
    {type:"win",x:700,y:0,width:50,height:400},]
  }
  if(level == 22){
    maxright = 1400;
    maxbottom = 400;
    entities =[{type:"4shooter", x:50,y:0,w:25,h:25,time:0,alive:true,shootat:5,bulletspeed:4,changex:-1,xmin:0,xmax:100,},
    {type:"4shooter", x:300,y:0,w:25,h:25,time:0,alive:true,shootat:5,bulletspeed:4,changex:-1,xmin:250,xmax:350},
    {type:"4shooter", x:175,y:0,w:25,h:25,time:0,alive:true,shootat:5,bulletspeed:4,changex:-1,xmin:125,xmax:225},

    {type:"4shooter", x:700,y:75,w:50,h:25,time:0,alive:true,shootat:55,bulletspeed:6,changey:-1,ymin:25,ymax:300},
    {type:"4shooter", x:900,y:75,w:50,h:25,time:0,alive:true,shootat:55,bulletspeed:6,changey:-1.5,ymin:25,ymax:300},
    {type:"4shooter", x:1100,y:575,w:50,h:25,time:0,alive:true,shootat:55,bulletspeed:6,changey:-2.5,ymin:25,ymax:300},
    ]


    levelblocks = [{type:"collision",x:0,y:350,width:500,height:50},
    {type:"collision",x:0,y:100,width:100,height:25},
    {type:"collision",x:-50,y:0,width:100,height:25,changex:-1,xmin:-100,xmax:0},
    {type:"collision",x:75,y:0,width:100,height:25,changex:-1,xmin:25,xmax:125},
    {type:"collision",x:200,y:0,width:100,height:25,changex:-1,xmin:150,xmax:250},
    {type:"collision",x:325,y:0,width:100,height:25,changex:-1,xmin:275,xmax:375},
    {type:"collision",x:500,y:100,width:100,height:300},
    
    {type:"collision",x:700,y:100,width:100,height:50,changey:-1,ymin:50,ymax:325},
    {type:"collision",x:900,y:100,width:100,height:50,changey:-1.5,ymin:50,ymax:325},
    {type:"collision",x:1100,y:100,width:100,height:50,changey:-2.5,ymin:50,ymax:325},
    
    {type:"win",x:1350,y:0,width:50,height:400},]
  }
  if(level == 23){
    maxright = 650;
    maxbottom = 400;
    entities =[
    ]
    let time = 0;
    for(let i = 0; i<1500; i+=25){
      time++;
      entities.push({type:"8shooter", x:i%500,y:0,w:25,h:25,time:time,alive:true,shootat:200,bulletspeed:4,changex:-1,xmin:0,xmax:400,},)
    }

    levelblocks = [{type:"collision",x:0,y:350,width:500,height:50},
    {type:"collision",x:550,y:0,width:50,height:400,changey:-0.1,ymin:-100000000,ymax:0},
    {type:"collision",x:500,y:0,width:50,height:400,changey:0.1,ymin:0,ymax:100000000},
    {type:"win",x:600,y:0,width:50,height:400},]

  }
  
  if(level == 24){
    maxright = 1500;
    maxbottom = 400;
    entities =[{type:"360shooter", x:400,y:150,w:25,h:25,time:time,alive:true,shootat:50,bulletspeed:1},
    {type:"360shooter", x:600,y:125,w:25,h:25,time:time,alive:true,shootat:40,bulletspeed:1.5},
    {type:"360shooter", x:800,y:100,w:25,h:25,time:time,alive:true,shootat:30,bulletspeed:2},
    {type:"360shooter", x:1000,y:75,w:25,h:25,time:time,alive:true,shootat:25,bulletspeed:2.25},
    {type:"360shooter", x:1200,y:50,w:25,h:25,time:time,alive:true,shootat:20,bulletspeed:2.5},
    {type:"360shooter", x:1400,y:25,w:25,h:25,time:time,alive:true,shootat:15,bulletspeed:2.75},
    ]
    levelblocks = [{type:"collision",x:0,y:350,width:1500,height:50},
    {type:"collision",x:300,y:200,width:25,height:150},
    {type:"collision",x:500,y:190,width:25,height:160},
    {type:"collision",x:700,y:180,width:25,height:170},
    {type:"collision",x:900,y:170,width:25,height:180},
    {type:"collision",x:1100,y:160,width:25,height:190},
    {type:"collision",x:1300,y:150,width:25,height:200},

    {type:"collision",x:400,y:0,width:25,height:150},
    {type:"collision",x:600,y:0,width:25,height:125},
    {type:"collision",x:800,y:0,width:25,height:100},
    {type:"collision",x:1000,y:0,width:25,height:75},
    {type:"collision",x:1200,y:0,width:25,height:50},
    {type:"collision",x:1400,y:0,width:25,height:25},
    {type:"win",x:1450,y:0,width:50,height:350},]
  }
  if(level == 25){
    maxright = 600
    maxbottom = 400
    bosshp = 100
    levelblocks = [
    {type:"collision",x:0,y:375 ,width:600,height:25},
    {type:"collision",x:100,y:275 ,width:100,height:25},
    {type:"collision",x:400,y:275 ,width:100,height:25},
    {type:"collision",x:287.5,y:215 ,width:25,height:200},
    {type:"collision",x:250,y:200 ,width:100,height:25},]
  }

  
}
function die(){
  charx = 0;
  chary = 200;
  jumpsleft = 3;
  setLevel()
}
      function Render(){

        var canvas = document.getElementById("Platformer");
        canvas.style.width = window.innerWidth;
        canvas.style.height = window.innerHeight;
        scalex = window.innerWidth/600;
        scaley = window.innerHeight/400;
        //HERE IF YOU WANNA STOP TIME
        if(bosshp > 0){
          time = startTime-Date.now();
          time = Math.abs(time)/1000
        }
        var ctx = canvas.getContext("2d");
        ctx.canvas.width  = window.innerWidth;
          ctx.canvas.height = window.innerHeight;
        
        if(textPhase && level == 25){
          ctx.fillStyle = "#000000";
          ctx.fillRect(-10,-10,600000,400000);
          ctx.font = 15*scalex +"px Times New Roman";
          ctx.fillStyle = "#ffffff";
          for(let i = 0; i<showntext.length; i++){
            ctx.fillText(showntext[i], 20*scalex, i*20*scaley+20*scaley);
            if(showntext[i] != textToShow[i]){
              showntext[i] += textToShow[i].charAt(showntext[i].length)
              i = showntext.length
            }
            if(i == showntext.length-1){
              textPhase = false
            }
          }
        }else if (titleScreen){
        }else if (bosshp <= 0){
          ctx.fillStyle = "#0064ab";
          ctx.fillRect(-10,-10,600000,400000);
          ctx.fillStyle = "#ffffff";
          ctx.font = 15*scalex +"px Times New Roman";

          for(let i = 0; i<credits.length; i++){
            ctx.fillText(credits[i], 20*scalex, i*20*scaley+20*scaley);
          }
           var minutes = Math.floor(time/60);
          var seconds = Math.floor(time)%60
          var remainder = Math.floor((time%1)*100)/1;
          ctx.font = 15*scalex +"px Arial";
          ctx.fillText("Your time: " + minutes+":"+ seconds + ":" + remainder, 20*scalex, 300*scaley+20*scaley);
        }
        else{
          ctx.fillStyle = "#4d5361";
          ctx.fillRect(-10,-10,600000,400000);
          if(momentum > -10){
            momentum-=1;    
          }
          chary-=momentum;
          charx-=momentumx;
          if(rightmove == 1){
            charx+=3;
          }
          if(leftmove == 1){
            charx-=3;
          }
          if(chary < maxtop){
            momentum = 0;
            chary = maxtop;
          }
          if(momentumx>0){
            momentumx--;
          }
          if(momentumx<0){
            momentumx++;
          }
          if(charx < maxleft){
          charx = maxleft;
          }
        
          if(chary > maxbottom-25){
          die()
          }
          if(charx+25 > maxright){
            charx = maxright - 25;
          }
          grounded = 0;
          RLevel();
          if(grounded == 1){
            jumpsleft = 3
          }
          let drawx = 0
          let drawy = 0;
          drawx = charx
          if(charx < maxleft + 275){
            drawx = charx-maxleft
            
          }else if(charx > maxright - 325){
            drawx = charx-maxright+600
          }else{
            drawx = 275
          }
          drawy = chary 

          if(chary < maxtop + 275){
            drawy = chary-maxtop
          }else if(chary > maxbottom - 125){
            drawy = chary-maxbottom+400
          }else{
            drawy = 275
          } 

          DrawCharacter(drawx,drawy)
          ctx.fillStyle = "#3a68de";
        
          var minutes = Math.floor(time/60);
          var seconds = Math.floor(time)%60
          var remainder = Math.floor((time%1)*100)/1;

          ctx.font = 15*scalex +"px Arial";
          ctx.fillText( minutes+":"+ seconds + ":" + remainder, 5*scalex, 25*scaley);
          ctx.fillText( level, 500*scalex, 25*scaley);
          if(level == 25){
            ctx.fillStyle = "#808080"
            ctx.fillRect(248*scalex,8*scaley,104*scalex ,14*scaley);
            ctx.fillStyle = "#ff0000"
            ctx.fillRect(250*scalex,10*scaley,bosshp*scalex,10*scaley);
            let moveAgain = true
            for(let i = 0; i<entities.length; i++){
              if(entities[i].type != "egg"){
                moveAgain = false
              }
            }
            if(moveAgain){
              let moveChoice = Math.floor(Math.random()*10)
              
              if(moveChoice == 0){
                entities.push({type:"360shooter", x:100,y:-50,w:50,h:50,time:0,alive:true,shootat:50,bulletspeed:8,changey:1,ymin:325,ymax:325})
                entities.push({type:"360shooter", x:150,y:-50,w:50,h:50,time:0,alive:true,shootat:50,bulletspeed:8,changey:1,ymin:325,ymax:325})
                entities.push({type:"360shooter", x:450,y:-50,w:50,h:50,time:0,alive:true,shootat:50,bulletspeed:8,changey:1,ymin:325,ymax:325})
                entities.push({type:"360shooter", x:400,y:-50,w:50,h:50,time:0,alive:true,shootat:50,bulletspeed:8,changey:1,ymin:325,ymax:325})
              }
              if(moveChoice == 1){
                for(let i = 0; i<375; i+=25){
                  entities.push({type:"4shooter", x:0,y:-450+i,w:25,h:25,time:0,alive:true,shootat:100,bulletspeed:6,changey:1,ymin:i,ymax:i})
                }
                for(let i = 0; i<375; i+=25){
                  entities.push({type:"4shooter", x:575,y:-450+i,w:25,h:25,time:0,alive:true,shootat:100,bulletspeed:6,changey:1,ymin:i,ymax:i})
                }
              }
              if(moveChoice == 2){
                for(let i = 0; i<575; i+=25){
                  entities.push({type:"4shooter", x:-650+i,y:0,w:25,h:25,time:i,alive:true,shootat:200,bulletspeed:6,changex:1,xmin:i,xmax:i})
                }
                for(let i = 0; i<575; i+=25){
                  entities.push({type:"4shooter", x:650+i,y:25,w:25,h:25,time:100+i,alive:true,shootat:200,bulletspeed:6,changex:-1,xmin:i,xmax:i})
                }
              }
              if(moveChoice == 3){
                entities.push({type:"goose",x:-50,y:50,w:50,h:50,dx:1,alive:true,dy:0})
              }
            }
          }
        }
        
                    }
      var interval = setInterval(Render, 16);
      setLevel()
    </script>
    <style> 

    </style>
  </body>